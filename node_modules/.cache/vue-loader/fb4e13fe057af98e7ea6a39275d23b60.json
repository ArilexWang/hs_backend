{"remainingRequest":"/Users/alex/Documents/BasketballPark/basketballbackend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alex/Documents/BasketballPark/basketballbackend/src/views/Cash.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alex/Documents/BasketballPark/basketballbackend/src/views/Cash.vue","mtime":1662167923918},{"path":"/Users/alex/Documents/BasketballPark/basketballbackend/node_modules/babel-loader/lib/index.js","mtime":1662170097912},{"path":"/Users/alex/Documents/BasketballPark/basketballbackend/node_modules/cache-loader/dist/cjs.js","mtime":1662170097529},{"path":"/Users/alex/Documents/BasketballPark/basketballbackend/node_modules/vue-loader/lib/index.js","mtime":1662170098083}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qIGVzbGludC1kaXNhYmxlIHF1b3RlcyAqLwovKiBlc2xpbnQtZGlzYWJsZSBpbmRlbnQgKi8KLyogZXNsaW50LWRpc2FibGUgc2VtaSAqLwovKiBlc2xpbnQtZGlzYWJsZSByYWRpeCAqLwovKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlcnNjb3JlLWRhbmdsZSAqLwppbXBvcnQgeyBnZXREYXRhcywgdXBkYXRlSW5mbywgZGVsZXRlSW5mbywgYWRkSW5mbyB9IGZyb20gIkAvYXBpIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiaG9tZSIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGFzOiBbXSwKICAgICAgbmV3RGF0YTogW3t9XSwKICAgICAgY29sbGVjdGlvbjogImNhc2giLAogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICBnZXREYXRhcyh0aGlzLiRkYXRhLmNvbGxlY3Rpb24pLnRoZW4oKHJlcykgPT4gewogICAgICB0aGlzLiRkYXRhLmRhdGFzID0gcmVzLmRhdGE7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUVkaXQoaW5mbykgewogICAgICB0aGlzLiRjb25maXJtKCLmmK/lkKbmj5DkuqTkv67mlLkiLCAi5o+Q56S6IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgaW5mby5yZWNoYXJnZSA9IHBhcnNlSW50KGluZm8ucmVjaGFyZ2UpOwogICAgICAgICAgaW5mby5oYW5kc2VsID0gcGFyc2VJbnQoaW5mby5oYW5kc2VsKTsKICAgICAgICAgIHVwZGF0ZUluZm8oaW5mbywgdGhpcy4kZGF0YS5jb2xsZWN0aW9uKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgaWYgKHJlcy51cGRhdGVkID09IDEpIHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLlt7Lkv53lrZgh6K+35Yi35paw6aG16Z2iIiwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBnZXREYXRhcyh0aGlzLiRkYXRhLmNvbGxlY3Rpb24pLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kZGF0YS5kYXRhcyA9IHJlcy5kYXRhOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgdHlwZTogImZhaWwiLAogICAgICAgICAgICAgICAgbWVzc2FnZTogIuS/neWtmOWksei0pSEiLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgdGhpcy4kcm91dGVyLmdvKDApOwogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICJpbmZvIiwKICAgICAgICAgICAgbWVzc2FnZTogIuS/neWtmOWksei0pSIsCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVEZWxldGUoaW5mbykgewogICAgICB0aGlzLiRjb25maXJtKCLmmK/lkKbliKDpmaTlvZPliY3lhYXlgLzkv6Hmga8iLCAi5o+Q56S6IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIGRlbGV0ZUluZm8oaW5mbywgInJlY2hhcmdlIikudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oMCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUFkZChpbmZvKSB7CiAgICAgIGNvbnN0IHRoYXQgPSB0aGlzOwogICAgICBjb25zb2xlLmxvZyhpbmZvKTsKICAgICAgYWRkSW5mbyhpbmZvLCB0aGlzLiRkYXRhLmNvbGxlY3Rpb24pLnRoZW4oKHJlcykgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgaWYgKHJlcy5pZCkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgbWVzc2FnZTogIuaWsOWinuaIkOWKnyEiLAogICAgICAgICAgfSk7CiAgICAgICAgICB0aGF0LiRyb3V0ZXIuZ28oMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAiaW5mbyIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLmlrDlop7lpLHotKUhIiwKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Cash.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Cash.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"home-container\">\n    <div class=\"home-content\">\n      <el-table :data=\"newData\" fit border style=\"margin-top: 10px\">\n        <el-table-column prop=\"price\" label=\"充值金额\" width=\"120\">\n          <template slot-scope=\"scope\">\n            <el-input type=\"number\" v-model=\"scope.row.recharge\"></el-input>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"price\" label=\"赠送金额\" width=\"120\">\n          <template slot-scope=\"scope\">\n            <el-input type=\"number\" v-model=\"scope.row.handsel\"></el-input>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"150\">\n          <template slot-scope=\"scope\">\n            <el-button\n              @click=\"handleAdd(scope.row)\"\n              size=\"mini\"\n              type=\"primary\"\n              icon=\"el-icon-circle-plus\"\n              >新增</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-table\n        :data=\"datas\"\n        :default-sort=\"{ prop: 'price' }\"\n        height=\"450\"\n        border\n        style=\"margin-top: 10px\"\n      >\n        <el-table-column prop=\"price\" label=\"充值金额\" width=\"120\">\n          <template slot-scope=\"scope\">\n            <el-input type=\"number\" v-model=\"scope.row.recharge\"></el-input>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"value\" label=\"赠送金额\" width=\"120\">\n          <template slot-scope=\"scope\">\n            <el-input type=\"number\" v-model=\"scope.row.handsel\"></el-input>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"150\">\n          <template slot-scope=\"scope\">\n            <el-button @click=\"handleEdit(scope.row)\" size=\"mini\"\n              >保存</el-button\n            >\n            <el-button\n              @click=\"handleDelete(scope.row)\"\n              size=\"mini\"\n              type=\"danger\"\n              >删除</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n  </div>\n</template>\n\n<script>\n/* eslint-disable quotes */\n/* eslint-disable indent */\n/* eslint-disable semi */\n/* eslint-disable radix */\n/* eslint-disable no-underscore-dangle */\nimport { getDatas, updateInfo, deleteInfo, addInfo } from \"@/api\";\n\nexport default {\n  name: \"home\",\n  data() {\n    return {\n      datas: [],\n      newData: [{}],\n      collection: \"cash\",\n    };\n  },\n  created() {\n    getDatas(this.$data.collection).then((res) => {\n      this.$data.datas = res.data;\n    });\n  },\n  methods: {\n    handleEdit(info) {\n      this.$confirm(\"是否提交修改\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then(() => {\n          info.recharge = parseInt(info.recharge);\n          info.handsel = parseInt(info.handsel);\n          updateInfo(info, this.$data.collection).then((res) => {\n            console.log(res);\n            if (res.updated == 1) {\n              this.$message({\n                type: \"success\",\n                message: \"已保存!请刷新页面\",\n              });\n              getDatas(this.$data.collection).then((res) => {\n                this.$data.datas = res.data;\n              });\n            } else {\n              this.$message({\n                type: \"fail\",\n                message: \"保存失败!\",\n              });\n            }\n          });\n        })\n        .catch((err) => {\n          console.log(err);\n          this.$router.go(0);\n          this.$message({\n            type: \"info\",\n            message: \"保存失败\",\n          });\n        });\n    },\n    handleDelete(info) {\n      this.$confirm(\"是否删除当前充值信息\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      }).then(() => {\n        deleteInfo(info, \"recharge\").then(() => {\n          this.$router.go(0);\n        });\n      });\n    },\n    handleAdd(info) {\n      const that = this;\n      console.log(info);\n      addInfo(info, this.$data.collection).then((res) => {\n        console.log(res);\n        if (res.id) {\n          this.$message({\n            type: \"success\",\n            message: \"新增成功!\",\n          });\n          that.$router.go(0);\n        } else {\n          this.$message({\n            type: \"info\",\n            message: \"新增失败!\",\n          });\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.home-container {\n  padding: 10px;\n  padding-top: 5px;\n}\n.home-content {\n  padding: 10px;\n  border-radius: 5px;\n  background: #fff;\n}\n</style>"]}]}