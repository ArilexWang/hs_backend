{"remainingRequest":"/Users/alex/Documents/BasketballPark/basketballbackend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alex/Documents/BasketballPark/basketballbackend/src/views/Recharge.vue?vue&type=style&index=0&id=7147554d&scoped=true&lang=css&","dependencies":[{"path":"/Users/alex/Documents/BasketballPark/basketballbackend/src/views/Recharge.vue","mtime":1663771760456},{"path":"/Users/alex/Documents/BasketballPark/basketballbackend/node_modules/css-loader/dist/cjs.js","mtime":1662170097783},{"path":"/Users/alex/Documents/BasketballPark/basketballbackend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1662170098278},{"path":"/Users/alex/Documents/BasketballPark/basketballbackend/node_modules/postcss-loader/src/index.js","mtime":1662170097902},{"path":"/Users/alex/Documents/BasketballPark/basketballbackend/node_modules/cache-loader/dist/cjs.js","mtime":1662170097529},{"path":"/Users/alex/Documents/BasketballPark/basketballbackend/node_modules/vue-loader/lib/index.js","mtime":1662170098083}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouaG9tZS1jb250YWluZXIgewogICAgcGFkZGluZzogMTBweDsKICAgIHBhZGRpbmctdG9wOiA1cHg7Cn0KLmhvbWUtY29udGVudCB7CiAgICBwYWRkaW5nOiAxMHB4OwogICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgYmFja2dyb3VuZDogI2ZmZjsKfQo="},{"version":3,"sources":["Recharge.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Recharge.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"home-container\">\n        <div class=\"home-content\">\n            <el-table :data=\"newData\" fit border style=\"margin-top: 10px\">\n                <el-table-column prop=\"name\" label=\"名称\" width=\"120\">\n                    <template slot-scope=\"scope\">\n                        <el-input v-model=\"scope.row.name\"></el-input>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"price\" label=\"价格\" width=\"120\">\n                    <template slot-scope=\"scope\">\n                        <el-input type=\"number\" v-model=\"scope.row.price\"></el-input>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"price\" label=\"价值\" width=\"120\">\n                    <template slot-scope=\"scope\">\n                        <el-input type=\"number\" v-model=\"scope.row.value\"></el-input>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"type\" label=\"类型(红为次卡)\" width=\"120\">\n                    <template slot-scope=\"scope\">\n                        <el-switch v-model=\"scope.row.type\" active-color=\"#13ce66\" inactive-color=\"#ff4949\"> </el-switch>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"操作\" width=\"150\">\n                    <template slot-scope=\"scope\">\n                        <el-button @click=\"handleAdd(scope.row)\" size=\"mini\" type=\"primary\" icon=\"el-icon-circle-plus\">新增</el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <el-table :data=\"datas\" :default-sort=\"{ prop: 'price' }\" height=\"450\" border style=\"margin-top: 10px\">\n                <el-table-column prop=\"name\" label=\"名称\" width=\"120\">\n                    <template slot-scope=\"scope\">\n                        <el-input v-model=\"scope.row.name\"></el-input>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"price\" label=\"价格\" width=\"120\">\n                    <template slot-scope=\"scope\">\n                        <el-input type=\"number\" v-model=\"scope.row.price\"></el-input>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"value\" label=\"价值\" width=\"120\">\n                    <template slot-scope=\"scope\">\n                        <el-input type=\"number\" v-model=\"scope.row.value\"></el-input>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"type\" label=\"类型(红为次卡)\" width=\"120\">\n                    <template slot-scope=\"scope\">\n                        <el-switch v-model=\"scope.row.type\" active-color=\"#13ce66\" inactive-color=\"#ff4949\"> </el-switch>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"操作\" width=\"150\">\n                    <template slot-scope=\"scope\">\n                        <el-button @click=\"handleEdit(scope.row)\" size=\"mini\">保存</el-button>\n                        <el-button @click=\"handleDelete(scope.row)\" size=\"mini\" type=\"danger\">删除</el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n        </div>\n    </div>\n</template>\n\n<script>\n/* eslint-disable quotes */\n/* eslint-disable indent */\n/* eslint-disable semi */\n/* eslint-disable radix */\n/* eslint-disable no-underscore-dangle */\nimport { getDatas, updateInfo, deleteInfo, addInfo } from \"@/api\";\n\nexport default {\n    name: \"home\",\n    data() {\n        return {\n            datas: [],\n            newData: [{}]\n        };\n    },\n    created() {\n        getDatas(\"recharge\").then(res => {\n            console.log(res);\n            res.data.forEach(element => {\n                element.type = element.type === 1;\n            });\n            this.$data.datas = res.data;\n        });\n    },\n    methods: {\n        handleEdit(info) {\n            this.$confirm(\"是否提交修改\", \"提示\", {\n                confirmButtonText: \"确定\",\n                cancelButtonText: \"取消\",\n                type: \"warning\"\n            })\n                .then(() => {\n                    info.type = info.type ? 1 : 0;\n                    info.price = parseInt(info.price);\n                    info.value = parseInt(info.value);\n                    updateInfo(info, \"recharge\").then(res => {\n                        console.log(res);\n                        if (res.updated == 1) {\n                            this.$message({\n                                type: \"success\",\n                                message: \"已保存!请刷新页面\"\n                            });\n                        } else {\n                            this.$message({\n                                type: \"fail\",\n                                message: \"保存失败!\"\n                            });\n                        }\n                    });\n                })\n                .catch(err => {\n                    console.log(err);\n                    this.$router.go(0);\n                    this.$message({\n                        type: \"info\",\n                        message: \"保存失败\"\n                    });\n                });\n        },\n        handleDelete(info) {\n            this.$confirm(\"是否删除当前充值信息\", \"提示\", {\n                confirmButtonText: \"确定\",\n                cancelButtonText: \"取消\",\n                type: \"warning\"\n            }).then(() => {\n                deleteInfo(info, \"recharge\").then(() => {\n                    this.$router.go(0);\n                });\n            });\n        },\n        handleAdd(info) {\n            info.type = info.type == true ? 1 : 0;\n            const that = this;\n            console.log(info);\n            addInfo(info, \"recharge\").then(res => {\n                console.log(res);\n                if (res.id) {\n                    this.$message({\n                        type: \"success\",\n                        message: \"新增成功!\"\n                    });\n                    that.$router.go(0);\n                } else {\n                    this.$message({\n                        type: \"info\",\n                        message: \"新增失败!\"\n                    });\n                }\n            });\n        }\n    }\n};\n</script>\n\n<style scoped>\n.home-container {\n    padding: 10px;\n    padding-top: 5px;\n}\n.home-content {\n    padding: 10px;\n    border-radius: 5px;\n    background: #fff;\n}\n</style>\n"]}]}