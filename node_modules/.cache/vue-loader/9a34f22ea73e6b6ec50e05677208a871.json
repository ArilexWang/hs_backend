{"remainingRequest":"/Users/alex/Documents/HS/basketballbackend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alex/Documents/HS/basketballbackend/src/components/Index.vue?vue&type=style&index=0&id=82b7485c&scoped=true&lang=css&","dependencies":[{"path":"/Users/alex/Documents/HS/basketballbackend/src/components/Index.vue","mtime":1667650471344},{"path":"/Users/alex/Documents/HS/basketballbackend/node_modules/css-loader/dist/cjs.js","mtime":1662170097783},{"path":"/Users/alex/Documents/HS/basketballbackend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1662170098278},{"path":"/Users/alex/Documents/HS/basketballbackend/node_modules/postcss-loader/src/index.js","mtime":1662170097902},{"path":"/Users/alex/Documents/HS/basketballbackend/node_modules/cache-loader/dist/cjs.js","mtime":1662170097529},{"path":"/Users/alex/Documents/HS/basketballbackend/node_modules/vue-loader/lib/index.js","mtime":1662170098083}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5pbmRleC12dWUgewogICAgaGVpZ2h0OiAxMDAlOwogICAgY29sb3I6ICM2NjY7Cn0KCi8qIOS+p+i+ueagjyAqLwphc2lkZSB7CiAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICB0b3A6IDA7CiAgICBsZWZ0OiAwOwogICAgd2lkdGg6IDkwcHg7CiAgICBiYWNrZ3JvdW5kOiAjMjAyMjJBOwogICAgaGVpZ2h0OiAxMDAlOwogICAgdHJhbnNpdGlvbjogd2lkdGggLjNzOwogICAgb3ZlcmZsb3c6IGF1dG87Cn0KCi5sb2dvLWMgewogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAuOCk7CiAgICBmb250LXNpemU6IDE2cHg7CiAgICBtYXJnaW46IDIwcHggMDsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwp9CgoubG9nbyB7CiAgICB3aWR0aDogNDBweDsKICAgIG1hcmdpbi1yaWdodDogMTBweDsKfQoKLmFzaWRlLWJpZyB7CiAgICB3aWR0aDogMjIwcHg7Cn0KCi8qIOS4u+S9k+mhtemdoiAqLwouc2VjLXJpZ2h0IHsKICAgIGhlaWdodDogMTAwJTsKICAgIG1hcmdpbi1sZWZ0OiAyMjBweDsKICAgIHRyYW5zaXRpb246IG1hcmdpbi1sZWZ0IC4zczsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICA7CiAgICBiYWNrZ3JvdW5kOiAjZjNmN2ZkOwp9CgovKiDkuLvkvZPpobXpnaLlpLTpg6ggKi8KaGVhZGVyIHsKICAgIGhlaWdodDogNTBweDsKICAgIGJvcmRlci1ib3R0b206IG5vbmU7CiAgICBiYWNrZ3JvdW5kOiAjZmZmOwogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICBwYWRkaW5nLXJpZ2h0OiA0MHB4OwogICAgcGFkZGluZy1sZWZ0OiAxMHB4OwogICAgZm9udC1zaXplOiAxNHB4Owp9CgpoZWFkZXIgLml2dS1pY29uIHsKICAgIGZvbnQtc2l6ZTogMjRweDsKfQoKLnJlZnJlc2gtYyB7CiAgICBtYXJnaW46IDAgMzBweDsKICAgIGN1cnNvcjogcG9pbnRlcjsKfQoKLmgtcmlnaHQgewogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KCi5oLWxlZnQgewogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KCi51c2VyLWltZy1jIGltZyB7CiAgICB3aWR0aDogMTAwJTsKfQoKLm5vdGljZS1jIHsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQoKLm5ld01zZyB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB3aWR0aDogOHB4OwogICAgaGVpZ2h0OiA4cHg7CiAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkY1NzIyOwogICAgcmlnaHQ6IDA7CiAgICB0b3A6IDA7Cn0KCi51c2VyLWltZy1jIHsKICAgIHdpZHRoOiAzNHB4OwogICAgaGVpZ2h0OiAzNHB4OwogICAgYmFja2dyb3VuZDogI2RkZDsKICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgIG1hcmdpbjogMCA0MHB4OwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKfQoKLnRhZy1vcHRpb25zIHsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQoKLmRpdi10YWdzIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgbWFyZ2luOiA0cHggMDsKfQoKLmRpdi1pY29ucyB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGJhY2tncm91bmQ6ICNmZmY7CiAgICBoZWlnaHQ6IDM0cHg7CiAgICB3aWR0aDogMTYwcHg7CiAgICBmb250LXNpemU6IDE4cHg7Cn0KCi8qIOagh+etvuagjyAqLwoudWwtYyB7CiAgICBoZWlnaHQ6IDM0cHg7CiAgICBiYWNrZ3JvdW5kOiAjZmZmOwogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBwYWRkaW5nOiAwIDEwcHg7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgd2lkdGg6IGNhbGMoMTAwJSAtIDE2MHB4KTsKfQoKLnVsLWMgbGkgewogICAgYm9yZGVyLXJhZGl1czogM3B4OwogICAgY3Vyc29yOiBwb2ludGVyOwogICAgZm9udC1zaXplOiAxMnB4OwogICAgaGVpZ2h0OiAyNHB4OwogICAgcGFkZGluZzogMCAxMHB4OwogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgIG1hcmdpbjogM3B4IDVweCAycHggM3B4OwogICAgYm9yZGVyOiAxcHggc29saWQgI2U2ZTZlNjsKfQoKYSB7CiAgICBjb2xvcjogIzY2NjsKICAgIHRyYW5zaXRpb246IG5vbmU7Cn0KCi5saS1hIHsKICAgIG1heC13aWR0aDogODBweDsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICB3aGl0ZS1zcGFjZTogbm93cmFwOwogICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7Cn0KCi51bC1jIC5pdnUtaWNvbiB7CiAgICBtYXJnaW4tbGVmdDogNnB4Owp9CgouYWN0aXZlIHsKICAgIGJhY2tncm91bmQ6ICM0MDllZmY7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjNDA5ZWZmOwp9CgouYWN0aXZlIGEgewogICAgY29sb3I6ICNmZmY7Cn0KCi5hY3RpdmUgLml2dS1pY29uIHsKICAgIGNvbG9yOiAjZmZmOwp9CgovKiDkuLvopoHlhoXlrrnljLrln58gKi8KLm1haW4tY29udGVudCB7CiAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDg4cHgpOwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKfQoKLnZpZXctYyB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBvdmVyZmxvdzogaGlkZGVuOwp9CgoucG9pbnRlciB7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5jcnVtYnMgewogICAgbWFyZ2luLWxlZnQ6IDEwcHg7CiAgICBjb2xvcjogIzk3YThiZTsKICAgIGN1cnNvcjogZGVmYXVsdDsKfQoKLm1lbnUtbGV2ZWwtMyAuaXZ1LWljb24gewogICAgZm9udC1zaXplOiAxOHB4Owp9Cgouc2hyaW5rIHsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLmV4dGVybmFsIHsKICAgIGNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIC43KTsKfQoKLmV4dGVybmFsPmkgewogICAgbWFyZ2luLXJpZ2h0OiA2cHg7Cn0K"},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4fA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"Index.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"index-vue\">\n        <!-- 侧边栏 -->\n        <aside :class=\"asideClassName\">\n            <!-- logo -->\n            <div class=\"logo-c\">\n                <img src=\"../assets/imgs/logo.png\" alt=\"logo\" class=\"logo\">\n                <span v-show=\"isShowAsideTitle\">后台管理系统</span>\n            </div>\n            <!-- 菜单栏 -->\n            <Menu class=\"menu\" ref=\"asideMenu\" theme=\"dark\" width=\"100%\" @on-select=\"selectMenuCallback\" accordion\n                :open-names=\"openMenus\" :active-name=\"currentPage\" @on-open-change=\"menuChange\">\n                <!-- 动态菜单 -->\n                <div v-for=\"(item, index) in menuItems\" :key=\"index\">\n                    <Submenu :class=\"isShowAsideTitle ? '' : 'shrink'\" v-if=\"item.children\" :name=\"index\">\n                        <template slot=\"title\">\n                            <Icon :size=\"item.size\" :type=\"item.type\" />\n                            <span v-show=\"isShowAsideTitle\">{{ item.text }}</span>\n                        </template>\n                        <div v-for=\"(subItem, i) in item.children\" :key=\"index + i\">\n                            <Submenu :class=\"isShowAsideTitle ? '' : 'shrink'\" v-if=\"subItem.children\"\n                                :name=\"index + '-' + i\">\n                                <template slot=\"title\">\n                                    <Icon :size=\"subItem.size\" :type=\"subItem.type\" />\n                                    <span v-show=\"isShowAsideTitle\">{{ subItem.text }}</span>\n                                </template>\n                                <template v-for=\"(threeItem, k) in subItem.children\">\n                                    <a href=\"https://www.baidu.com\" target=\"_blank\" :key=\"index + i + k\"\n                                        v-if=\"threeItem.isExternal\">\n                                        <MenuItem :class=\"isShowAsideTitle ? '' : 'shrink'\" class=\"menu-level-3\"\n                                            :name=\"'external-link-' + index + i + k\">\n                                        <template v-if=\"!threeItem.hidden\">\n                                            <a :href=\"threeItem.url\" target=\"_blank\" class=\"external\">\n                                                <Icon :size=\"threeItem.size\" :type=\"threeItem.type\" />\n                                                <span v-show=\"isShowAsideTitle\">{{ threeItem.text }}</span>\n                                            </a>\n                                        </template>\n                                        </MenuItem>\n                                    </a>\n                                    <MenuItem v-else :class=\"isShowAsideTitle ? '' : 'shrink'\" class=\"menu-level-3\"\n                                        :name=\"threeItem.name\" :key=\"index + i + k\">\n                                    <template v-if=\"!threeItem.hidden\">\n                                        <Icon :size=\"threeItem.size\" :type=\"threeItem.type\" />\n                                        <span v-show=\"isShowAsideTitle\">{{ threeItem.text }}</span>\n                                    </template>\n                                    </MenuItem>\n                                </template>\n                            </Submenu>\n                            <template v-else-if=\"!subItem.hidden\">\n                                <a :href=\"subItem.url\" v-if=\"subItem.isExternal\" target=\"_blank\" class=\"external\">\n                                    <MenuItem :class=\"isShowAsideTitle ? '' : 'shrink'\"\n                                        :name=\"'external-link-' + index + '-' + i\">\n                                    <Icon :size=\"subItem.size\" :type=\"subItem.type\" />\n                                    <span v-show=\"isShowAsideTitle\">{{ subItem.text }}</span>\n                                    </MenuItem>\n                                </a>\n                                <MenuItem v-else :class=\"isShowAsideTitle ? '' : 'shrink'\" :name=\"subItem.name\">\n                                <Icon :size=\"subItem.size\" :type=\"subItem.type\" />\n                                <span v-show=\"isShowAsideTitle\">{{ subItem.text }}</span>\n                                </MenuItem>\n                            </template>\n                        </div>\n                    </Submenu>\n                    <template v-else-if=\"!item.hidden\">\n                        <a :href=\"item.url\" v-if=\"item.isExternal\" target=\"_blank\" class=\"external\">\n                            <MenuItem :class=\"isShowAsideTitle ? '' : 'shrink'\" :name=\"'external-link-' + index\">\n                            <Icon :size=\"item.size\" :type=\"item.type\" />\n                            <span v-show=\"isShowAsideTitle\">{{ item.text }}</span>\n                            </MenuItem>\n                        </a>\n                        <MenuItem v-else :class=\"isShowAsideTitle ? '' : 'shrink'\" :name=\"item.name\">\n                        <Icon :size=\"item.size\" :type=\"item.type\" />\n                        <span v-show=\"isShowAsideTitle\">{{ item.text }}</span>\n                        </MenuItem>\n                    </template>\n                </div>\n            </Menu>\n        </aside>\n\n        <!-- 右侧部分 -->\n        <section class=\"sec-right\">\n            <!-- 头部 -->\n            <div class=\"top-c\">\n                <header>\n                    <div class=\"h-left\">\n                        <div class=\"pointer\" @click=\"isShrinkAside\" title=\"收缩/展开\">\n                            <Icon type=\"ios-apps\" />\n                        </div>\n                        <!-- 面包屑功能 -->\n                        <p class=\"crumbs\">{{ crumbs }}</p>\n                    </div>\n                    <div class=\"h-right\">\n                        <!-- 下拉菜单 -->\n                        <Dropdown trigger=\"click\" @on-click=\"userOperate\" @on-visible-change=\"showArrow\">\n                            <div class=\"pointer\">\n                                <span>{{ userName }}</span>\n                                <Icon v-show=\"arrowDown\" type=\"md-arrow-dropdown\" />\n                                <Icon v-show=\"arrowUp\" type=\"md-arrow-dropup\" />\n                            </div>\n                            <DropdownMenu slot=\"list\">\n                                <DropdownItem divided name=\"3\">退出登陆</DropdownItem>\n                            </DropdownMenu>\n                        </Dropdown>\n                    </div>\n                </header>\n\n                <!-- 标签栏 -->\n                <div class=\"div-tags\">\n                    <ul class=\"ul-c\">\n                        <li v-for=\"(item, index) in tagsArry\" :key=\"index\" :class=\"{ active: isActive(item.name) }\"\n                            @click=\"activeTag(index)\">\n                            <a class=\"li-a\">\n                                {{ item.text }}\n                            </a>\n                            <Icon size=\"16\" @click=\"closeTag(index)\" type=\"md-close\" />\n                        </li>\n                    </ul>\n                    <!-- 标签栏相关功能 -->\n                    <div class=\"div-icons\">\n                        <div class=\"refresh-c\" @click=\"reloadPage\" title=\"刷新当前标签页\">\n                            <Icon type=\"md-refresh\" />\n                        </div>\n                        <div class=\"tag-options\" title=\"关闭标签\">\n                            <Dropdown trigger=\"click\" @on-click=\"closeTags\">\n                                <Icon type=\"ios-options\" />\n                                <DropdownMenu slot=\"list\">\n                                    <DropdownItem name=\"1\">关闭其他标签</DropdownItem>\n                                    <DropdownItem name=\"2\">关闭所有标签</DropdownItem>\n                                </DropdownMenu>\n                            </Dropdown>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <!-- 页面主体 -->\n            <div class=\"main-content\">\n                <div class=\"view-c\">\n                    <keep-alive :include=\"keepAliveData\">\n                        <!-- 子页面 -->\n                        <router-view v-if=\"isShowRouter\" />\n                    </keep-alive>\n                </div>\n            </div>\n        </section>\n    </div>\n</template>\n\n<script>\nimport { resetTokenAndClearUser } from '../utils'\n\nexport default {\n    name: 'index',\n    data() {\n        return {\n            // 用于储存页面路径\n            paths: {},\n            // 当前显示页面\n            currentPage: '',\n            openMenus: [], // 要打开的菜单名字 name属性\n            menuCache: [], // 缓存已经打开的菜单\n            hasNewMsg: true, // 是否有新消息\n            isShowRouter: true,\n            msgNum: '10', // 新消息条数\n            // 标签栏         标签标题     路由名称\n            // 数据格式 {text: '首页', name: 'home'}\n            // 用于缓存打开的路由 在标签栏上展示\n            tagsArry: [],\n            arrowUp: false, // 用户详情向上箭头\n            arrowDown: true, // 用户详情向下箭头\n            isShowAsideTitle: true, // 是否展示侧边栏内容\n            main: null, // 页面主要内容区域\n            asideClassName: 'aside-big', // 控制侧边栏宽度变化\n            asideArrowIcons: [], // 缓存侧边栏箭头图标 收缩时用\n            // 面包屑\n            crumbs: '主页',\n            userName: '',\n            userImg: '',\n            // 主页路由名称\n            home: 'home',\n        }\n    },\n    mounted() {\n        // 第一个标签\n        const name = this.$route.name\n        this.currentPage = name\n        this.tagsArry.push({\n            text: this.nameToTitle[name],\n            name,\n        })\n\n        // 根据路由打开对应的菜单栏\n        this.openMenus = this.getMenus(name)\n        this.$nextTick(() => {\n            this.$refs.asideMenu.updateOpened()\n        })\n\n        // 设置用户信息\n        this.userName = localStorage.getItem('userName')\n        this.userImg = localStorage.getItem('userImg')\n\n        this.main = document.querySelector('.sec-right')\n        this.asideArrowIcons = document.querySelectorAll('aside .ivu-icon-ios-arrow-down')\n\n        // 监听窗口大小 自动收缩侧边栏\n        this.monitorWindowSize()\n    },\n    watch: {\n        $route(to) {\n            const name = to.name\n            this.currentPage = name\n            if (name == 'error') {\n                this.crumbs = '404'\n                return\n            }\n\n            if (!this.keepAliveData.includes(name)) {\n                // 如果标签超过8个 则将第一个标签删除\n                if (this.tagsArry.length == 8) {\n                    this.tagsArry.shift()\n                }\n                this.tagsArry.push({ name, text: this.nameToTitle[name] })\n            }\n\n            setTimeout(() => {\n                this.crumbs = this.paths[name]\n            }, 0)\n        },\n    },\n    computed: {\n        // 菜单栏\n        menuItems() {\n            return this.$store.state.menuItems\n        },\n        // 需要缓存的路由\n        keepAliveData() {\n            return this.tagsArry.map(item => item.name)\n        },\n        // 由于iView的导航菜单比较坑 只能设定一个name参数\n        // 所以需要在这定义组件名称和标签栏标题的映射表 有多少个页面就有多少个映射条数\n        nameToTitle() {\n            const obj = {}\n            this.menuItems.forEach(e => {\n                this.processNameToTitle(obj, e)\n            })\n\n            return obj\n        },\n    },\n    methods: {\n        getMenus(name) {\n            let menus\n            const tagTitle = this.nameToTitle[name]\n            for (let i = 0, l = this.menuItems.length; i < l; i++) {\n                const item = this.menuItems[i]\n                menus = []\n                menus[0] = i\n                if (item.text == tagTitle) {\n                    return menus\n                }\n\n                if (item.children) {\n                    for (let j = 0, ll = item.children.length; j < ll; j++) {\n                        const child = item.children[j]\n                        menus[1] = i + '-' + j\n                        menus.length = 2\n                        if (child.text == tagTitle) {\n                            return menus\n                        }\n\n                        if (child.children) {\n                            for (let k = 0, lll = child.children.length; k < lll; k++) {\n                                const grandson = child.children[k]\n                                menus[2] = i + '-' + j + '-' + k\n                                if (grandson.text == tagTitle) {\n                                    return menus\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n\n        monitorWindowSize() {\n            let w = document.documentElement.clientWidth || document.body.clientWidth\n            if (w < 1300) {\n                this.shrinkAside()\n            }\n\n            window.onresize = () => {\n                // 可视窗口宽度太小 自动收缩侧边栏\n                if (w < 1300 && this.isShowAsideTitle\n                    && w > (document.documentElement.clientWidth || document.body.clientWidth)) {\n                    this.shrinkAside()\n                }\n\n                w = document.documentElement.clientWidth || document.body.clientWidth\n            }\n        },\n\n        // 判断当前标签页是否激活状态\n        isActive(name) {\n            return this.$route.name === name\n        },\n        // 跳转页面 路由名称和参数\n        gotoPage(name, params) {\n            this.currentPage = name\n            this.crumbs = this.paths[name]\n            this.$router.push({ name, params })\n\n            if (!this.keepAliveData.includes(name)) {\n                // 如果标签超过8个 则将第一个标签删除\n                if (this.tagsArry.length == 8) {\n                    this.tagsArry.shift()\n                }\n                this.tagsArry.push({ name, text: this.nameToTitle[name] })\n            }\n        },\n        // 选择菜单回调函数\n        selectMenuCallback(name) {\n            if (name.includes('external-link')) return\n            this.gotoPage(name)\n            this.expandAside()\n            setTimeout(() => {\n                this.isShowAsideTitle = true\n            }, 200)\n        },\n        // 用户操作\n        userOperate(name) {\n            switch (name) {\n                case '1':\n                    // 修改密码\n                    this.gotoPage('password')\n                    break\n                case '2':\n                    // 基本资料\n                    this.gotoPage('userinfo')\n                    break\n                case '3':\n                    resetTokenAndClearUser()\n                    this.$router.push({ name: 'login' })\n                    break\n            }\n        },\n        // 控制用户三角箭头显示状态\n        showArrow(flag) {\n            this.arrowUp = flag\n            this.arrowDown = !flag\n        },\n        // 判断\n        isShrinkAside() {\n            if (this.isShowAsideTitle) {\n                this.shrinkAside()\n            } else {\n                this.expandAside()\n            }\n        },\n        // 收缩\n        shrinkAside() {\n            for (let i = 0, len = this.asideArrowIcons.length; i < len; i++) {\n                this.asideArrowIcons[i].style.display = 'none'\n            }\n\n            this.isShowAsideTitle = false\n            this.openMenus = []\n            this.$nextTick(() => {\n                if (this.$refs.asideMenu) {\n                    this.$refs.asideMenu.updateOpened()\n                }\n            })\n\n            setTimeout(() => {\n                this.asideClassName = ''\n                this.main.style.marginLeft = '90px'\n            }, 0)\n        },\n        // 展开\n        expandAside() {\n            setTimeout(() => {\n                this.isShowAsideTitle = true\n                for (let i = 0, len = this.asideArrowIcons.length; i < len; i++) {\n                    this.asideArrowIcons[i].style.display = 'block'\n                }\n\n                this.openMenus = this.menuCache\n                if (this.$refs.asideMenu) {\n                    this.$refs.asideMenu.updateOpened()\n                }\n            }, 200)\n            this.asideClassName = 'aside-big'\n            this.main.style.marginLeft = '220px'\n        },\n        // 刷新当前标签页\n        reloadPage() {\n            let name = this.$route.name\n            let index = this.keepAliveData.indexOf(name)\n            this.$nextTick(() => {\n                if (this.tagsArry.length) {\n                    this.isShowRouter = false\n                    this.tagsArry.splice(index, 1)\n                    this.$nextTick(() => {\n                        this.tagsArry.splice(index, 0, { name, text: this.nameToTitle[name] })\n                        this.gotoPage(name)\n                        this.isShowRouter = true\n                    })\n                } else {\n                    this.isShowRouter = false\n                    this.$nextTick(() => {\n                        this.tagsArry.push({ name, text: this.nameToTitle[name] })\n                        this.gotoPage(name)\n                        this.isShowRouter = true\n                    })\n                }\n            })\n        },\n        // 关闭单个标签\n        closeTag(i) {\n            let name = this.tagsArry[i].name\n            this.tagsArry.splice(i, 1)\n            window.event.stopPropagation()\n            // 如果关闭的是当前标签 则激活前一个标签\n            // 如果关闭的是第一个标签 则激活后一个标签\n            if (this.tagsArry.length) {\n                if (this.isActive(name)) {\n                    if (i != 0) {\n                        this.gotoPage(this.tagsArry[i - 1].name)\n                    } else {\n                        this.gotoPage(this.tagsArry[i].name)\n                    }\n                }\n            } else if (name != this.home) {\n                // 如果没有标签则跳往首页\n                this.gotoPage(this.home)\n            } else {\n                this.reloadPage()\n            }\n        },\n        // 根据路由名称关闭页面\n        closeName(name) {\n            for (let i = 0, len = this.tagsArry.length; i < len; i++) {\n                if (this.tagsArry[i].name == name) {\n                    this.closeTag(i)\n                    break\n                }\n            }\n        },\n        // 批量关闭标签\n        closeTags(flag) {\n            if (flag == 1) {\n                // 关闭其他标签\n                this.tagsArry = []\n                this.gotoPage(this.$route.name)\n            } else {\n                // 关闭所有标签\n                this.tagsArry = []\n                this.gotoPage(this.home)\n                this.reloadPage()\n            }\n        },\n        // 激活标签\n        activeTag(i) {\n            this.gotoPage(this.tagsArry[i].name)\n        },\n        // 消息通知\n        info() {\n            const self = this\n            this.$Notice.info({\n                title: `您有${this.msgNum}条消息`,\n                render(h) {\n                    return h('Button', {\n                        attrs: {\n                            type: 'info',\n                            size: 'small',\n                        },\n                        on: {\n                            click() {\n                                // 点击查看跳转到消息页\n                                self.gotoPage('msg')\n                                self.hasNewMsg = false\n                                self.msgNum = 0\n                            },\n                        },\n                    }, [\n                        '点击查看',\n                    ])\n                },\n            })\n        },\n        // 菜单栏改变事件\n        menuChange(data) {\n            this.menuCache = data\n        },\n        processNameToTitle(obj, data, text) {\n            if (data.name) {\n                obj[data.name] = data.text\n                this.paths[data.name] = text ? `${text} / ${data.text}` : data.text\n            }\n            if (data.children) {\n                data.children.forEach(e => {\n                    this.processNameToTitle(obj, e, text ? `${text} / ${data.text}` : data.text)\n                })\n            }\n        },\n    },\n}\n</script>\n\n<style scoped>\n.index-vue {\n    height: 100%;\n    color: #666;\n}\n\n/* 侧边栏 */\naside {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 90px;\n    background: #20222A;\n    height: 100%;\n    transition: width .3s;\n    overflow: auto;\n}\n\n.logo-c {\n    display: flex;\n    align-items: center;\n    color: rgba(255, 255, 255, .8);\n    font-size: 16px;\n    margin: 20px 0;\n    justify-content: center;\n}\n\n.logo {\n    width: 40px;\n    margin-right: 10px;\n}\n\n.aside-big {\n    width: 220px;\n}\n\n/* 主体页面 */\n.sec-right {\n    height: 100%;\n    margin-left: 220px;\n    transition: margin-left .3s;\n    overflow: hidden;\n    ;\n    background: #f3f7fd;\n}\n\n/* 主体页面头部 */\nheader {\n    height: 50px;\n    border-bottom: none;\n    background: #fff;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding-right: 40px;\n    padding-left: 10px;\n    font-size: 14px;\n}\n\nheader .ivu-icon {\n    font-size: 24px;\n}\n\n.refresh-c {\n    margin: 0 30px;\n    cursor: pointer;\n}\n\n.h-right {\n    display: flex;\n    align-items: center;\n}\n\n.h-left {\n    display: flex;\n    align-items: center;\n}\n\n.user-img-c img {\n    width: 100%;\n}\n\n.notice-c {\n    cursor: pointer;\n    position: relative;\n}\n\n.newMsg {\n    position: absolute;\n    width: 8px;\n    height: 8px;\n    border-radius: 50%;\n    background-color: #FF5722;\n    right: 0;\n    top: 0;\n}\n\n.user-img-c {\n    width: 34px;\n    height: 34px;\n    background: #ddd;\n    border-radius: 50%;\n    margin: 0 40px;\n    overflow: hidden;\n}\n\n.tag-options {\n    cursor: pointer;\n    position: relative;\n}\n\n.div-tags {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin: 4px 0;\n}\n\n.div-icons {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    background: #fff;\n    height: 34px;\n    width: 160px;\n    font-size: 18px;\n}\n\n/* 标签栏 */\n.ul-c {\n    height: 34px;\n    background: #fff;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    padding: 0 10px;\n    overflow: hidden;\n    width: calc(100% - 160px);\n}\n\n.ul-c li {\n    border-radius: 3px;\n    cursor: pointer;\n    font-size: 12px;\n    height: 24px;\n    padding: 0 10px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 3px 5px 2px 3px;\n    border: 1px solid #e6e6e6;\n}\n\na {\n    color: #666;\n    transition: none;\n}\n\n.li-a {\n    max-width: 80px;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n\n.ul-c .ivu-icon {\n    margin-left: 6px;\n}\n\n.active {\n    background: #409eff;\n    border: 1px solid #409eff;\n}\n\n.active a {\n    color: #fff;\n}\n\n.active .ivu-icon {\n    color: #fff;\n}\n\n/* 主要内容区域 */\n.main-content {\n    height: calc(100% - 88px);\n    overflow: hidden;\n}\n\n.view-c {\n    position: relative;\n    height: 100%;\n    overflow: hidden;\n}\n\n.pointer {\n    cursor: pointer;\n}\n\n.crumbs {\n    margin-left: 10px;\n    color: #97a8be;\n    cursor: default;\n}\n\n.menu-level-3 .ivu-icon {\n    font-size: 18px;\n}\n\n.shrink {\n    text-align: center;\n}\n\n.external {\n    color: rgba(255, 255, 255, .7);\n}\n\n.external>i {\n    margin-right: 6px;\n}\n</style>"]}]}