{"remainingRequest":"/Users/alex/Documents/BasketballPark/basketballbackend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alex/Documents/BasketballPark/basketballbackend/src/components/Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alex/Documents/BasketballPark/basketballbackend/src/components/Index.vue","mtime":1662167923917},{"path":"/Users/alex/Documents/BasketballPark/basketballbackend/node_modules/babel-loader/lib/index.js","mtime":1662170097912},{"path":"/Users/alex/Documents/BasketballPark/basketballbackend/node_modules/cache-loader/dist/cjs.js","mtime":1662170097529},{"path":"/Users/alex/Documents/BasketballPark/basketballbackend/node_modules/vue-loader/lib/index.js","mtime":1662170098083}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHJlc2V0VG9rZW5BbmRDbGVhclVzZXIgfSBmcm9tICcuLi91dGlscycKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdpbmRleCcsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIC8vIOeUqOS6juWCqOWtmOmhtemdoui3r+W+hAogICAgICAgICAgICBwYXRoczoge30sCiAgICAgICAgICAgIC8vIOW9k+WJjeaYvuekuumhtemdogogICAgICAgICAgICBjdXJyZW50UGFnZTogJycsCiAgICAgICAgICAgIG9wZW5NZW51czogW10sIC8vIOimgeaJk+W8gOeahOiPnOWNleWQjeWtlyBuYW1l5bGe5oCnCiAgICAgICAgICAgIG1lbnVDYWNoZTogW10sIC8vIOe8k+WtmOW3sue7j+aJk+W8gOeahOiPnOWNlQogICAgICAgICAgICBoYXNOZXdNc2c6IHRydWUsIC8vIOaYr+WQpuacieaWsOa2iOaBrwogICAgICAgICAgICBpc1Nob3dSb3V0ZXI6IHRydWUsCiAgICAgICAgICAgIG1zZ051bTogJzEwJywgLy8g5paw5raI5oGv5p2h5pWwCiAgICAgICAgICAgIC8vIOagh+etvuagjyAgICAgICAgIOagh+etvuagh+mimCAgICAg6Lev55Sx5ZCN56ewCiAgICAgICAgICAgIC8vIOaVsOaNruagvOW8jyB7dGV4dDogJ+mmlumhtScsIG5hbWU6ICdob21lJ30KICAgICAgICAgICAgLy8g55So5LqO57yT5a2Y5omT5byA55qE6Lev55SxIOWcqOagh+etvuagj+S4iuWxleekugogICAgICAgICAgICB0YWdzQXJyeTogW10sCiAgICAgICAgICAgIGFycm93VXA6IGZhbHNlLCAvLyDnlKjmiLfor6bmg4XlkJHkuIrnrq3lpLQKICAgICAgICAgICAgYXJyb3dEb3duOiB0cnVlLCAvLyDnlKjmiLfor6bmg4XlkJHkuIvnrq3lpLQKICAgICAgICAgICAgaXNTaG93QXNpZGVUaXRsZTogdHJ1ZSwgLy8g5piv5ZCm5bGV56S65L6n6L655qCP5YaF5a65CiAgICAgICAgICAgIG1haW46IG51bGwsIC8vIOmhtemdouS4u+imgeWGheWuueWMuuWfnwogICAgICAgICAgICBhc2lkZUNsYXNzTmFtZTogJ2FzaWRlLWJpZycsIC8vIOaOp+WItuS+p+i+ueagj+WuveW6puWPmOWMlgogICAgICAgICAgICBhc2lkZUFycm93SWNvbnM6IFtdLCAvLyDnvJPlrZjkvqfovrnmoI/nrq3lpLTlm77moIcg5pS257yp5pe255SoCiAgICAgICAgICAgIC8vIOmdouWMheWxkQogICAgICAgICAgICBjcnVtYnM6ICfkuLvpobUnLAogICAgICAgICAgICB1c2VyTmFtZTogJycsCiAgICAgICAgICAgIHVzZXJJbWc6ICcnLAogICAgICAgICAgICAvLyDkuLvpobXot6/nlLHlkI3np7AKICAgICAgICAgICAgaG9tZTogJ2hvbWUnLAogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIC8vIOesrOS4gOS4quagh+etvgogICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLiRyb3V0ZS5uYW1lCiAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IG5hbWUKICAgICAgICB0aGlzLnRhZ3NBcnJ5LnB1c2goewogICAgICAgICAgICB0ZXh0OiB0aGlzLm5hbWVUb1RpdGxlW25hbWVdLAogICAgICAgICAgICBuYW1lLAogICAgICAgIH0pCgogICAgICAgIC8vIOagueaNrui3r+eUseaJk+W8gOWvueW6lOeahOiPnOWNleagjwogICAgICAgIHRoaXMub3Blbk1lbnVzID0gdGhpcy5nZXRNZW51cyhuYW1lKQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgdGhpcy4kcmVmcy5hc2lkZU1lbnUudXBkYXRlT3BlbmVkKCkKICAgICAgICB9KQoKICAgICAgICAvLyDorr7nva7nlKjmiLfkv6Hmga8KICAgICAgICB0aGlzLnVzZXJOYW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJOYW1lJykKICAgICAgICB0aGlzLnVzZXJJbWcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlckltZycpCgogICAgICAgIHRoaXMubWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWMtcmlnaHQnKQogICAgICAgIHRoaXMuYXNpZGVBcnJvd0ljb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYXNpZGUgLml2dS1pY29uLWlvcy1hcnJvdy1kb3duJykKCiAgICAgICAgLy8g55uR5ZCs56qX5Y+j5aSn5bCPIOiHquWKqOaUtue8qeS+p+i+ueagjwogICAgICAgIHRoaXMubW9uaXRvcldpbmRvd1NpemUoKQogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgJHJvdXRlKHRvKSB7CiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB0by5uYW1lCiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBuYW1lCiAgICAgICAgICAgIGlmIChuYW1lID09ICdlcnJvcicpIHsKICAgICAgICAgICAgICAgIHRoaXMuY3J1bWJzID0gJzQwNCcKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoIXRoaXMua2VlcEFsaXZlRGF0YS5pbmNsdWRlcyhuYW1lKSkgewogICAgICAgICAgICAgICAgLy8g5aaC5p6c5qCH562+6LaF6L+HOOS4qiDliJnlsIbnrKzkuIDkuKrmoIfnrb7liKDpmaQKICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhZ3NBcnJ5Lmxlbmd0aCA9PSA4KSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWdzQXJyeS5zaGlmdCgpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLnRhZ3NBcnJ5LnB1c2goeyBuYW1lLCB0ZXh0OiB0aGlzLm5hbWVUb1RpdGxlW25hbWVdIH0pCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5jcnVtYnMgPSB0aGlzLnBhdGhzW25hbWVdCiAgICAgICAgICAgIH0sIDApCiAgICAgICAgfSwKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC8vIOiPnOWNleagjwogICAgICAgIG1lbnVJdGVtcygpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLm1lbnVJdGVtcwogICAgICAgIH0sCiAgICAgICAgLy8g6ZyA6KaB57yT5a2Y55qE6Lev55SxCiAgICAgICAga2VlcEFsaXZlRGF0YSgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFnc0FycnkubWFwKGl0ZW0gPT4gaXRlbS5uYW1lKQogICAgICAgIH0sCiAgICAgICAgLy8g55Sx5LqOaVZpZXfnmoTlr7zoiKroj5zljZXmr5TovoPlnZEg5Y+q6IO96K6+5a6a5LiA5LiqbmFtZeWPguaVsAogICAgICAgIC8vIOaJgOS7pemcgOimgeWcqOi/meWumuS5iee7hOS7tuWQjeensOWSjOagh+etvuagj+agh+mimOeahOaYoOWwhOihqCDmnInlpJrlsJHkuKrpobXpnaLlsLHmnInlpJrlsJHkuKrmmKDlsITmnaHmlbAKICAgICAgICBuYW1lVG9UaXRsZSgpIHsKICAgICAgICAgICAgY29uc3Qgb2JqID0ge30KICAgICAgICAgICAgdGhpcy5tZW51SXRlbXMuZm9yRWFjaChlID0+IHsKICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc05hbWVUb1RpdGxlKG9iaiwgZSkKICAgICAgICAgICAgfSkKCiAgICAgICAgICAgIHJldHVybiBvYmoKICAgICAgICB9LAogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBnZXRNZW51cyhuYW1lKSB7CiAgICAgICAgICAgIGxldCBtZW51cwogICAgICAgICAgICBjb25zdCB0YWdUaXRsZSA9IHRoaXMubmFtZVRvVGl0bGVbbmFtZV0KICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLm1lbnVJdGVtcy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLm1lbnVJdGVtc1tpXQogICAgICAgICAgICAgICAgbWVudXMgPSBbXQogICAgICAgICAgICAgICAgbWVudXNbMF0gPSBpCiAgICAgICAgICAgICAgICBpZiAoaXRlbS50ZXh0ID09IHRhZ1RpdGxlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lbnVzCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGl0ZW0uY2hpbGRyZW4pIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMCwgbGwgPSBpdGVtLmNoaWxkcmVuLmxlbmd0aDsgaiA8IGxsOyBqKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBpdGVtLmNoaWxkcmVuW2pdCiAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVzWzFdID0gaSArICctJyArIGoKICAgICAgICAgICAgICAgICAgICAgICAgbWVudXMubGVuZ3RoID0gMgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGQudGV4dCA9PSB0YWdUaXRsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lbnVzCiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC5jaGlsZHJlbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IDAsIGxsbCA9IGNoaWxkLmNoaWxkcmVuLmxlbmd0aDsgayA8IGxsbDsgaysrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3JhbmRzb24gPSBjaGlsZC5jaGlsZHJlbltrXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVzWzJdID0gaSArICctJyArIGogKyAnLScgKyBrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyYW5kc29uLnRleHQgPT0gdGFnVGl0bGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lbnVzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgbW9uaXRvcldpbmRvd1NpemUoKSB7CiAgICAgICAgICAgIGxldCB3ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIHx8IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgKICAgICAgICAgICAgaWYgKHcgPCAxMzAwKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNocmlua0FzaWRlKCkKICAgICAgICAgICAgfQoKICAgICAgICAgICAgd2luZG93Lm9ucmVzaXplID0gKCkgPT4gewogICAgICAgICAgICAgICAgLy8g5Y+v6KeG56qX5Y+j5a695bqm5aSq5bCPIOiHquWKqOaUtue8qeS+p+i+ueagjwogICAgICAgICAgICAgICAgaWYgKHcgPCAxMzAwICYmIHRoaXMuaXNTaG93QXNpZGVUaXRsZQogICAgICAgICAgICAgICAgICAgICYmIHcgPiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIHx8IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaHJpbmtBc2lkZSgpCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCB8fCBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoCiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICAvLyDliKTmlq3lvZPliY3moIfnrb7pobXmmK/lkKbmv4DmtLvnirbmgIEKICAgICAgICBpc0FjdGl2ZShuYW1lKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5uYW1lID09PSBuYW1lCiAgICAgICAgfSwKICAgICAgICAvLyDot7PovazpobXpnaIg6Lev55Sx5ZCN56ew5ZKM5Y+C5pWwCiAgICAgICAgZ290b1BhZ2UobmFtZSwgcGFyYW1zKSB7CiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBuYW1lCiAgICAgICAgICAgIHRoaXMuY3J1bWJzID0gdGhpcy5wYXRoc1tuYW1lXQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWUsIHBhcmFtcyB9KQoKICAgICAgICAgICAgaWYgKCF0aGlzLmtlZXBBbGl2ZURhdGEuaW5jbHVkZXMobmFtZSkpIHsKICAgICAgICAgICAgICAgIC8vIOWmguaenOagh+etvui2hei/hzjkuKog5YiZ5bCG56ys5LiA5Liq5qCH562+5Yig6ZmkCiAgICAgICAgICAgICAgICBpZiAodGhpcy50YWdzQXJyeS5sZW5ndGggPT0gOCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMudGFnc0Fycnkuc2hpZnQoKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy50YWdzQXJyeS5wdXNoKHsgbmFtZSwgdGV4dDogdGhpcy5uYW1lVG9UaXRsZVtuYW1lXSB9KQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvLyDpgInmi6noj5zljZXlm57osIPlh73mlbAKICAgICAgICBzZWxlY3RNZW51Q2FsbGJhY2sobmFtZSkgewogICAgICAgICAgICBpZiAobmFtZS5pbmNsdWRlcygnZXh0ZXJuYWwtbGluaycpKSByZXR1cm4KICAgICAgICAgICAgdGhpcy5nb3RvUGFnZShuYW1lKQogICAgICAgICAgICB0aGlzLmV4cGFuZEFzaWRlKCkKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmlzU2hvd0FzaWRlVGl0bGUgPSB0cnVlCiAgICAgICAgICAgIH0sIDIwMCkKICAgICAgICB9LAogICAgICAgIC8vIOeUqOaIt+aTjeS9nAogICAgICAgIHVzZXJPcGVyYXRlKG5hbWUpIHsKICAgICAgICAgICAgc3dpdGNoIChuYW1lKSB7CiAgICAgICAgICAgICAgICBjYXNlICcxJzoKICAgICAgICAgICAgICAgICAgICAvLyDkv67mlLnlr4bnoIEKICAgICAgICAgICAgICAgICAgICB0aGlzLmdvdG9QYWdlKCdwYXNzd29yZCcpCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGNhc2UgJzInOgogICAgICAgICAgICAgICAgICAgIC8vIOWfuuacrOi1hOaWmQogICAgICAgICAgICAgICAgICAgIHRoaXMuZ290b1BhZ2UoJ3VzZXJpbmZvJykKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgY2FzZSAnMyc6CiAgICAgICAgICAgICAgICAgICAgcmVzZXRUb2tlbkFuZENsZWFyVXNlcigpCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnbG9naW4nIH0pCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8g5o6n5Yi255So5oi35LiJ6KeS566t5aS05pi+56S654q25oCBCiAgICAgICAgc2hvd0Fycm93KGZsYWcpIHsKICAgICAgICAgICAgdGhpcy5hcnJvd1VwID0gZmxhZwogICAgICAgICAgICB0aGlzLmFycm93RG93biA9ICFmbGFnCiAgICAgICAgfSwKICAgICAgICAvLyDliKTmlq0KICAgICAgICBpc1Nocmlua0FzaWRlKCkgewogICAgICAgICAgICBpZiAodGhpcy5pc1Nob3dBc2lkZVRpdGxlKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNocmlua0FzaWRlKCkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuZXhwYW5kQXNpZGUoKQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvLyDmlLbnvKkKICAgICAgICBzaHJpbmtBc2lkZSgpIHsKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMuYXNpZGVBcnJvd0ljb25zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgICAgICB0aGlzLmFzaWRlQXJyb3dJY29uc1tpXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMuaXNTaG93QXNpZGVUaXRsZSA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMub3Blbk1lbnVzID0gW10KICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICAgICAgaWYgKHRoaXMuJHJlZnMuYXNpZGVNZW51KSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5hc2lkZU1lbnUudXBkYXRlT3BlbmVkKCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5hc2lkZUNsYXNzTmFtZSA9ICcnCiAgICAgICAgICAgICAgICB0aGlzLm1haW4uc3R5bGUubWFyZ2luTGVmdCA9ICc5MHB4JwogICAgICAgICAgICB9LCAwKQogICAgICAgIH0sCiAgICAgICAgLy8g5bGV5byACiAgICAgICAgZXhwYW5kQXNpZGUoKSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dBc2lkZVRpdGxlID0gdHJ1ZQogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMuYXNpZGVBcnJvd0ljb25zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc2lkZUFycm93SWNvbnNbaV0uc3R5bGUuZGlzcGxheSA9ICdibG9jaycKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLm9wZW5NZW51cyA9IHRoaXMubWVudUNhY2hlCiAgICAgICAgICAgICAgICBpZiAodGhpcy4kcmVmcy5hc2lkZU1lbnUpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmFzaWRlTWVudS51cGRhdGVPcGVuZWQoKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAyMDApCiAgICAgICAgICAgIHRoaXMuYXNpZGVDbGFzc05hbWUgPSAnYXNpZGUtYmlnJwogICAgICAgICAgICB0aGlzLm1haW4uc3R5bGUubWFyZ2luTGVmdCA9ICcyMjBweCcKICAgICAgICB9LAogICAgICAgIC8vIOWIt+aWsOW9k+WJjeagh+etvumhtQogICAgICAgIHJlbG9hZFBhZ2UoKSB7CiAgICAgICAgICAgIGxldCBuYW1lID0gdGhpcy4kcm91dGUubmFtZQogICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLmtlZXBBbGl2ZURhdGEuaW5kZXhPZihuYW1lKQogICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy50YWdzQXJyeS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmlzU2hvd1JvdXRlciA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWdzQXJyeS5zcGxpY2UoaW5kZXgsIDEpCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhZ3NBcnJ5LnNwbGljZShpbmRleCwgMCwgeyBuYW1lLCB0ZXh0OiB0aGlzLm5hbWVUb1RpdGxlW25hbWVdIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ290b1BhZ2UobmFtZSkKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dSb3V0ZXIgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3dSb3V0ZXIgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWdzQXJyeS5wdXNoKHsgbmFtZSwgdGV4dDogdGhpcy5uYW1lVG9UaXRsZVtuYW1lXSB9KQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdvdG9QYWdlKG5hbWUpCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNTaG93Um91dGVyID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICAvLyDlhbPpl63ljZXkuKrmoIfnrb4KICAgICAgICBjbG9zZVRhZyhpKSB7CiAgICAgICAgICAgIGxldCBuYW1lID0gdGhpcy50YWdzQXJyeVtpXS5uYW1lCiAgICAgICAgICAgIHRoaXMudGFnc0Fycnkuc3BsaWNlKGksIDEpCiAgICAgICAgICAgIHdpbmRvdy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKQogICAgICAgICAgICAvLyDlpoLmnpzlhbPpl63nmoTmmK/lvZPliY3moIfnrb4g5YiZ5r+A5rS75YmN5LiA5Liq5qCH562+CiAgICAgICAgICAgIC8vIOWmguaenOWFs+mXreeahOaYr+esrOS4gOS4quagh+etviDliJnmv4DmtLvlkI7kuIDkuKrmoIfnrb4KICAgICAgICAgICAgaWYgKHRoaXMudGFnc0FycnkubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0FjdGl2ZShuYW1lKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChpICE9IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nb3RvUGFnZSh0aGlzLnRhZ3NBcnJ5W2kgLSAxXS5uYW1lKQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ290b1BhZ2UodGhpcy50YWdzQXJyeVtpXS5uYW1lKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmIChuYW1lICE9IHRoaXMuaG9tZSkgewogICAgICAgICAgICAgICAgLy8g5aaC5p6c5rKh5pyJ5qCH562+5YiZ6Lez5b6A6aaW6aG1CiAgICAgICAgICAgICAgICB0aGlzLmdvdG9QYWdlKHRoaXMuaG9tZSkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMucmVsb2FkUGFnZSgpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8vIOagueaNrui3r+eUseWQjeensOWFs+mXremhtemdogogICAgICAgIGNsb3NlTmFtZShuYW1lKSB7CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLnRhZ3NBcnJ5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy50YWdzQXJyeVtpXS5uYW1lID09IG5hbWUpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlVGFnKGkpCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8g5om56YeP5YWz6Zet5qCH562+CiAgICAgICAgY2xvc2VUYWdzKGZsYWcpIHsKICAgICAgICAgICAgaWYgKGZsYWcgPT0gMSkgewogICAgICAgICAgICAgICAgLy8g5YWz6Zet5YW25LuW5qCH562+CiAgICAgICAgICAgICAgICB0aGlzLnRhZ3NBcnJ5ID0gW10KICAgICAgICAgICAgICAgIHRoaXMuZ290b1BhZ2UodGhpcy4kcm91dGUubmFtZSkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIOWFs+mXreaJgOacieagh+etvgogICAgICAgICAgICAgICAgdGhpcy50YWdzQXJyeSA9IFtdCiAgICAgICAgICAgICAgICB0aGlzLmdvdG9QYWdlKHRoaXMuaG9tZSkKICAgICAgICAgICAgICAgIHRoaXMucmVsb2FkUGFnZSgpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8vIOa/gOa0u+agh+etvgogICAgICAgIGFjdGl2ZVRhZyhpKSB7CiAgICAgICAgICAgIHRoaXMuZ290b1BhZ2UodGhpcy50YWdzQXJyeVtpXS5uYW1lKQogICAgICAgIH0sCiAgICAgICAgLy8g5raI5oGv6YCa55+lCiAgICAgICAgaW5mbygpIHsKICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXMKICAgICAgICAgICAgdGhpcy4kTm90aWNlLmluZm8oewogICAgICAgICAgICAgICAgdGl0bGU6IGDmgqjmnIkke3RoaXMubXNnTnVtfeadoea2iOaBr2AsCiAgICAgICAgICAgICAgICByZW5kZXIoaCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBoKCdCdXR0b24nLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc21hbGwnLAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2soKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g54K55Ye75p+l55yL6Lez6L2s5Yiw5raI5oGv6aG1CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5nb3RvUGFnZSgnbXNnJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmhhc05ld01zZyA9IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tc2dOdW0gPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIH0sIFsKICAgICAgICAgICAgICAgICAgICAgICAgJ+eCueWHu+afpeeciycsCiAgICAgICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICAvLyDoj5zljZXmoI/mlLnlj5jkuovku7YKICAgICAgICBtZW51Q2hhbmdlKGRhdGEpIHsKICAgICAgICAgICAgdGhpcy5tZW51Q2FjaGUgPSBkYXRhCiAgICAgICAgfSwKICAgICAgICBwcm9jZXNzTmFtZVRvVGl0bGUob2JqLCBkYXRhLCB0ZXh0KSB7CiAgICAgICAgICAgIGlmIChkYXRhLm5hbWUpIHsKICAgICAgICAgICAgICAgIG9ialtkYXRhLm5hbWVdID0gZGF0YS50ZXh0CiAgICAgICAgICAgICAgICB0aGlzLnBhdGhzW2RhdGEubmFtZV0gPSB0ZXh0ID8gYCR7dGV4dH0gLyAke2RhdGEudGV4dH1gIDogZGF0YS50ZXh0CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGRhdGEuY2hpbGRyZW4pIHsKICAgICAgICAgICAgICAgIGRhdGEuY2hpbGRyZW4uZm9yRWFjaChlID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NOYW1lVG9UaXRsZShvYmosIGUsIHRleHQgPyBgJHt0ZXh0fSAvICR7ZGF0YS50ZXh0fWAgOiBkYXRhLnRleHQpCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgIH0sCn0K"},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6JA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"index-vue\">\n        <!-- 侧边栏 -->\n        <aside :class=\"asideClassName\">\n            <!-- logo -->\n            <div class=\"logo-c\">\n                <img src=\"../assets/imgs/logo.png\" alt=\"logo\" class=\"logo\">\n                <span v-show=\"isShowAsideTitle\">后台管理系统</span>\n            </div>\n            <!-- 菜单栏 -->\n            <Menu class=\"menu\" ref=\"asideMenu\" theme=\"dark\" width=\"100%\" @on-select=\"selectMenuCallback\"\n            accordion :open-names=\"openMenus\" :active-name=\"currentPage\" @on-open-change=\"menuChange\">\n                <!-- 动态菜单 -->\n                <div v-for=\"(item, index) in menuItems\" :key=\"index\">\n                    <Submenu :class=\"isShowAsideTitle? '' : 'shrink'\" v-if=\"item.children\" :name=\"index\">\n                        <template slot=\"title\">\n                            <Icon :size=\"item.size\" :type=\"item.type\"/>\n                            <span v-show=\"isShowAsideTitle\">{{item.text}}</span>\n                        </template>\n                        <div v-for=\"(subItem, i) in item.children\" :key=\"index + i\">\n                            <Submenu :class=\"isShowAsideTitle? '' : 'shrink'\" v-if=\"subItem.children\" :name=\"index + '-' + i\">\n                                <template slot=\"title\">\n                                    <Icon :size=\"subItem.size\" :type=\"subItem.type\"/>\n                                    <span v-show=\"isShowAsideTitle\">{{subItem.text}}</span>\n                                </template>\n                                <template v-for=\"(threeItem, k) in subItem.children\">\n                                    <a href=\"https://www.baidu.com\" target=\"_blank\" :key=\"index + i + k\" v-if=\"threeItem.isExternal\">\n                                        <MenuItem :class=\"isShowAsideTitle? '' : 'shrink'\" class=\"menu-level-3\"\n                                        :name=\"'external-link-' + index + i + k\">\n                                            <template v-if=\"!threeItem.hidden\">\n                                                <a :href=\"threeItem.url\" target=\"_blank\" class=\"external\">\n                                                    <Icon :size=\"threeItem.size\" :type=\"threeItem.type\"/>\n                                                    <span v-show=\"isShowAsideTitle\">{{threeItem.text}}</span>\n                                                </a>\n                                            </template>\n                                        </MenuItem>\n                                    </a>\n                                    <MenuItem v-else :class=\"isShowAsideTitle? '' : 'shrink'\" class=\"menu-level-3\"\n                                    :name=\"threeItem.name\" :key=\"index + i + k\">\n                                        <template v-if=\"!threeItem.hidden\">\n                                            <Icon :size=\"threeItem.size\" :type=\"threeItem.type\"/>\n                                            <span v-show=\"isShowAsideTitle\">{{threeItem.text}}</span>\n                                        </template>\n                                    </MenuItem>\n                                </template>\n                            </Submenu>\n                            <template v-else-if=\"!subItem.hidden\">\n                                <a :href=\"subItem.url\" v-if=\"subItem.isExternal\" target=\"_blank\" class=\"external\">\n                                    <MenuItem :class=\"isShowAsideTitle? '' : 'shrink'\"\n                                    :name=\"'external-link-' + index + '-' + i\">\n                                        <Icon :size=\"subItem.size\" :type=\"subItem.type\"/>\n                                        <span v-show=\"isShowAsideTitle\">{{subItem.text}}</span>\n                                    </MenuItem>\n                                </a>\n                                <MenuItem v-else :class=\"isShowAsideTitle? '' : 'shrink'\" :name=\"subItem.name\">\n                                    <Icon :size=\"subItem.size\" :type=\"subItem.type\"/>\n                                    <span v-show=\"isShowAsideTitle\">{{subItem.text}}</span>\n                                </MenuItem>\n                            </template>\n                        </div>\n                    </Submenu>\n                    <template v-else-if=\"!item.hidden\">\n                        <a :href=\"item.url\" v-if=\"item.isExternal\" target=\"_blank\" class=\"external\">\n                            <MenuItem :class=\"isShowAsideTitle? '' : 'shrink'\" :name=\"'external-link-' + index\">\n                                    <Icon :size=\"item.size\" :type=\"item.type\"/>\n                                    <span v-show=\"isShowAsideTitle\">{{item.text}}</span>\n                            </MenuItem>\n                        </a>\n                        <MenuItem v-else :class=\"isShowAsideTitle? '' : 'shrink'\" :name=\"item.name\">\n                            <Icon :size=\"item.size\" :type=\"item.type\" />\n                            <span v-show=\"isShowAsideTitle\">{{item.text}}</span>\n                        </MenuItem>\n                    </template>\n                </div>\n            </Menu>\n        </aside>\n\n        <!-- 右侧部分 -->\n        <section class=\"sec-right\">\n            <!-- 头部 -->\n            <div class=\"top-c\">\n                <header>\n                    <div class=\"h-left\">\n                        <div class=\"pointer\" @click=\"isShrinkAside\" title=\"收缩/展开\">\n                            <Icon type=\"ios-apps\" />\n                        </div>\n                        <!-- 面包屑功能 -->\n                        <p class=\"crumbs\">{{crumbs}}</p>\n                    </div>\n                    <div class=\"h-right\">\n                        <!-- 消息 -->\n                        <div class=\"notice-c\" @click=\"info\" title=\"查看新消息\">\n                            <div :class=\"{newMsg: hasNewMsg}\"></div>\n                            <Icon type=\"ios-notifications-outline\" />\n                        </div>\n                        <!-- 用户头像 -->\n                        <div class=\"user-img-c\">\n                            <img :src=\"userImg\">\n                        </div>\n                        <!-- 下拉菜单 -->\n                        <Dropdown trigger=\"click\" @on-click=\"userOperate\" @on-visible-change=\"showArrow\">\n                            <div class=\"pointer\">\n                                <span>{{userName}}</span>\n                                <Icon v-show=\"arrowDown\" type=\"md-arrow-dropdown\"/>\n                                <Icon v-show=\"arrowUp\" type=\"md-arrow-dropup\"/>\n                            </div>\n                            <DropdownMenu slot=\"list\">\n                                <!-- name标识符 -->\n                                <DropdownItem name=\"1\">修改密码</DropdownItem>\n                                <DropdownItem name=\"2\">基本资料</DropdownItem>\n                                <DropdownItem divided  name=\"3\">退出登陆</DropdownItem>\n                            </DropdownMenu>\n                        </Dropdown>\n                    </div>\n                </header>\n\n                <!-- 标签栏 -->\n                <div class=\"div-tags\">\n                    <ul class=\"ul-c\">\n                        <li v-for=\"(item, index) in tagsArry\" :key=\"index\" :class=\"{active: isActive(item.name)}\" @click=\"activeTag(index)\">\n                            <a class=\"li-a\">\n                                {{item.text}}\n                            </a>\n                            <Icon size=\"16\" @click=\"closeTag(index)\" type=\"md-close\" />\n                        </li>\n                    </ul>\n                    <!-- 标签栏相关功能 -->\n                    <div class=\"div-icons\">\n                        <div class=\"refresh-c\" @click=\"reloadPage\" title=\"刷新当前标签页\">\n                            <Icon type=\"md-refresh\" />\n                        </div>\n                        <div class=\"tag-options\" title=\"关闭标签\">\n                            <Dropdown trigger=\"click\" @on-click=\"closeTags\">\n                                <Icon type=\"ios-options\" />\n                                <DropdownMenu slot=\"list\">\n                                    <DropdownItem name=\"1\">关闭其他标签</DropdownItem>\n                                    <DropdownItem name=\"2\">关闭所有标签</DropdownItem>\n                                </DropdownMenu>\n                            </Dropdown>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <!-- 页面主体 -->\n            <div class=\"main-content\">\n                <div class=\"view-c\">\n                    <keep-alive :include=\"keepAliveData\">\n                        <!-- 子页面 -->\n                        <router-view v-if=\"isShowRouter\"/>\n                    </keep-alive>\n                </div>\n            </div>\n        </section>\n    </div>\n</template>\n\n<script>\nimport { resetTokenAndClearUser } from '../utils'\n\nexport default {\n    name: 'index',\n    data() {\n        return {\n            // 用于储存页面路径\n            paths: {},\n            // 当前显示页面\n            currentPage: '',\n            openMenus: [], // 要打开的菜单名字 name属性\n            menuCache: [], // 缓存已经打开的菜单\n            hasNewMsg: true, // 是否有新消息\n            isShowRouter: true,\n            msgNum: '10', // 新消息条数\n            // 标签栏         标签标题     路由名称\n            // 数据格式 {text: '首页', name: 'home'}\n            // 用于缓存打开的路由 在标签栏上展示\n            tagsArry: [],\n            arrowUp: false, // 用户详情向上箭头\n            arrowDown: true, // 用户详情向下箭头\n            isShowAsideTitle: true, // 是否展示侧边栏内容\n            main: null, // 页面主要内容区域\n            asideClassName: 'aside-big', // 控制侧边栏宽度变化\n            asideArrowIcons: [], // 缓存侧边栏箭头图标 收缩时用\n            // 面包屑\n            crumbs: '主页',\n            userName: '',\n            userImg: '',\n            // 主页路由名称\n            home: 'home',\n        }\n    },\n    mounted() {\n        // 第一个标签\n        const name = this.$route.name\n        this.currentPage = name\n        this.tagsArry.push({\n            text: this.nameToTitle[name],\n            name,\n        })\n\n        // 根据路由打开对应的菜单栏\n        this.openMenus = this.getMenus(name)\n        this.$nextTick(() => {\n            this.$refs.asideMenu.updateOpened()\n        })\n\n        // 设置用户信息\n        this.userName = localStorage.getItem('userName')\n        this.userImg = localStorage.getItem('userImg')\n\n        this.main = document.querySelector('.sec-right')\n        this.asideArrowIcons = document.querySelectorAll('aside .ivu-icon-ios-arrow-down')\n\n        // 监听窗口大小 自动收缩侧边栏\n        this.monitorWindowSize()\n    },\n    watch: {\n        $route(to) {\n            const name = to.name\n            this.currentPage = name\n            if (name == 'error') {\n                this.crumbs = '404'\n                return\n            }\n\n            if (!this.keepAliveData.includes(name)) {\n                // 如果标签超过8个 则将第一个标签删除\n                if (this.tagsArry.length == 8) {\n                    this.tagsArry.shift()\n                }\n                this.tagsArry.push({ name, text: this.nameToTitle[name] })\n            }\n\n            setTimeout(() => {\n                this.crumbs = this.paths[name]\n            }, 0)\n        },\n    },\n    computed: {\n        // 菜单栏\n        menuItems() {\n            return this.$store.state.menuItems\n        },\n        // 需要缓存的路由\n        keepAliveData() {\n            return this.tagsArry.map(item => item.name)\n        },\n        // 由于iView的导航菜单比较坑 只能设定一个name参数\n        // 所以需要在这定义组件名称和标签栏标题的映射表 有多少个页面就有多少个映射条数\n        nameToTitle() {\n            const obj = {}\n            this.menuItems.forEach(e => {\n                this.processNameToTitle(obj, e)\n            })\n\n            return obj\n        },\n    },\n    methods: {\n        getMenus(name) {\n            let menus\n            const tagTitle = this.nameToTitle[name]\n            for (let i = 0, l = this.menuItems.length; i < l; i++) {\n                const item = this.menuItems[i]\n                menus = []\n                menus[0] = i\n                if (item.text == tagTitle) {\n                    return menus\n                }\n\n                if (item.children) {\n                    for (let j = 0, ll = item.children.length; j < ll; j++) {\n                        const child = item.children[j]\n                        menus[1] = i + '-' + j\n                        menus.length = 2\n                        if (child.text == tagTitle) {\n                            return menus\n                        }\n\n                        if (child.children) {\n                            for (let k = 0, lll = child.children.length; k < lll; k++) {\n                                const grandson = child.children[k]\n                                menus[2] = i + '-' + j + '-' + k\n                                if (grandson.text == tagTitle) {\n                                    return menus\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n\n        monitorWindowSize() {\n            let w = document.documentElement.clientWidth || document.body.clientWidth\n            if (w < 1300) {\n                this.shrinkAside()\n            }\n\n            window.onresize = () => {\n                // 可视窗口宽度太小 自动收缩侧边栏\n                if (w < 1300 && this.isShowAsideTitle\n                    && w > (document.documentElement.clientWidth || document.body.clientWidth)) {\n                    this.shrinkAside()\n                }\n\n                w = document.documentElement.clientWidth || document.body.clientWidth\n            }\n        },\n\n        // 判断当前标签页是否激活状态\n        isActive(name) {\n            return this.$route.name === name\n        },\n        // 跳转页面 路由名称和参数\n        gotoPage(name, params) {\n            this.currentPage = name\n            this.crumbs = this.paths[name]\n            this.$router.push({ name, params })\n\n            if (!this.keepAliveData.includes(name)) {\n                // 如果标签超过8个 则将第一个标签删除\n                if (this.tagsArry.length == 8) {\n                    this.tagsArry.shift()\n                }\n                this.tagsArry.push({ name, text: this.nameToTitle[name] })\n            }\n        },\n        // 选择菜单回调函数\n        selectMenuCallback(name) {\n            if (name.includes('external-link')) return\n            this.gotoPage(name)\n            this.expandAside()\n            setTimeout(() => {\n                this.isShowAsideTitle = true\n            }, 200)\n        },\n        // 用户操作\n        userOperate(name) {\n            switch (name) {\n                case '1':\n                    // 修改密码\n                    this.gotoPage('password')\n                    break\n                case '2':\n                    // 基本资料\n                    this.gotoPage('userinfo')\n                    break\n                case '3':\n                    resetTokenAndClearUser()\n                    this.$router.push({ name: 'login' })\n                    break\n            }\n        },\n        // 控制用户三角箭头显示状态\n        showArrow(flag) {\n            this.arrowUp = flag\n            this.arrowDown = !flag\n        },\n        // 判断\n        isShrinkAside() {\n            if (this.isShowAsideTitle) {\n                this.shrinkAside()\n            } else {\n                this.expandAside()\n            }\n        },\n        // 收缩\n        shrinkAside() {\n            for (let i = 0, len = this.asideArrowIcons.length; i < len; i++) {\n                this.asideArrowIcons[i].style.display = 'none'\n            }\n\n            this.isShowAsideTitle = false\n            this.openMenus = []\n            this.$nextTick(() => {\n                if (this.$refs.asideMenu) {\n                    this.$refs.asideMenu.updateOpened()\n                }\n            })\n\n            setTimeout(() => {\n                this.asideClassName = ''\n                this.main.style.marginLeft = '90px'\n            }, 0)\n        },\n        // 展开\n        expandAside() {\n            setTimeout(() => {\n                this.isShowAsideTitle = true\n                for (let i = 0, len = this.asideArrowIcons.length; i < len; i++) {\n                    this.asideArrowIcons[i].style.display = 'block'\n                }\n\n                this.openMenus = this.menuCache\n                if (this.$refs.asideMenu) {\n                    this.$refs.asideMenu.updateOpened()\n                }\n            }, 200)\n            this.asideClassName = 'aside-big'\n            this.main.style.marginLeft = '220px'\n        },\n        // 刷新当前标签页\n        reloadPage() {\n            let name = this.$route.name\n            let index = this.keepAliveData.indexOf(name)\n            this.$nextTick(() => {\n                if (this.tagsArry.length) {\n                    this.isShowRouter = false\n                    this.tagsArry.splice(index, 1)\n                    this.$nextTick(() => {\n                        this.tagsArry.splice(index, 0, { name, text: this.nameToTitle[name] })\n                        this.gotoPage(name)\n                        this.isShowRouter = true\n                    })\n                } else {\n                    this.isShowRouter = false\n                    this.$nextTick(() => {\n                        this.tagsArry.push({ name, text: this.nameToTitle[name] })\n                        this.gotoPage(name)\n                        this.isShowRouter = true\n                    })\n                }\n            })\n        },\n        // 关闭单个标签\n        closeTag(i) {\n            let name = this.tagsArry[i].name\n            this.tagsArry.splice(i, 1)\n            window.event.stopPropagation()\n            // 如果关闭的是当前标签 则激活前一个标签\n            // 如果关闭的是第一个标签 则激活后一个标签\n            if (this.tagsArry.length) {\n                if (this.isActive(name)) {\n                    if (i != 0) {\n                        this.gotoPage(this.tagsArry[i - 1].name)\n                    } else {\n                        this.gotoPage(this.tagsArry[i].name)\n                    }\n                }\n            } else if (name != this.home) {\n                // 如果没有标签则跳往首页\n                this.gotoPage(this.home)\n            } else {\n                this.reloadPage()\n            }\n        },\n        // 根据路由名称关闭页面\n        closeName(name) {\n            for (let i = 0, len = this.tagsArry.length; i < len; i++) {\n                if (this.tagsArry[i].name == name) {\n                    this.closeTag(i)\n                    break\n                }\n            }\n        },\n        // 批量关闭标签\n        closeTags(flag) {\n            if (flag == 1) {\n                // 关闭其他标签\n                this.tagsArry = []\n                this.gotoPage(this.$route.name)\n            } else {\n                // 关闭所有标签\n                this.tagsArry = []\n                this.gotoPage(this.home)\n                this.reloadPage()\n            }\n        },\n        // 激活标签\n        activeTag(i) {\n            this.gotoPage(this.tagsArry[i].name)\n        },\n        // 消息通知\n        info() {\n            const self = this\n            this.$Notice.info({\n                title: `您有${this.msgNum}条消息`,\n                render(h) {\n                    return h('Button', {\n                        attrs: {\n                            type: 'info',\n                            size: 'small',\n                        },\n                        on: {\n                            click() {\n                                // 点击查看跳转到消息页\n                                self.gotoPage('msg')\n                                self.hasNewMsg = false\n                                self.msgNum = 0\n                            },\n                        },\n                    }, [\n                        '点击查看',\n                    ])\n                },\n            })\n        },\n        // 菜单栏改变事件\n        menuChange(data) {\n            this.menuCache = data\n        },\n        processNameToTitle(obj, data, text) {\n            if (data.name) {\n                obj[data.name] = data.text\n                this.paths[data.name] = text ? `${text} / ${data.text}` : data.text\n            }\n            if (data.children) {\n                data.children.forEach(e => {\n                    this.processNameToTitle(obj, e, text ? `${text} / ${data.text}` : data.text)\n                })\n            }\n        },\n    },\n}\n</script>\n\n<style scoped>\n.index-vue {\n    height: 100%;\n    color: #666;\n}\n/* 侧边栏 */\naside {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 90px;\n    background: #20222A;\n    height: 100%;\n    transition: width .3s;\n    overflow: auto;\n}\n.logo-c {\n    display: flex;\n    align-items: center;\n    color: rgba(255,255,255,.8);\n    font-size: 16px;\n    margin: 20px 0;\n    justify-content: center;\n}\n.logo {\n    width: 40px;\n    margin-right: 10px;\n}\n.aside-big {\n    width: 220px;\n}\n/* 主体页面 */\n.sec-right {\n    height: 100%;\n    margin-left: 220px;\n    transition: margin-left .3s;\n    overflow: hidden;;\n    background: #f3f7fd;\n}\n/* 主体页面头部 */\nheader {\n    height: 50px;\n    border-bottom: none;\n    background: #fff;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding-right: 40px;\n    padding-left: 10px;\n    font-size: 14px;\n}\nheader .ivu-icon {\n    font-size: 24px;\n}\n.refresh-c {\n    margin: 0 30px;\n    cursor: pointer;\n}\n.h-right {\n    display: flex;\n    align-items: center;\n}\n.h-left {\n    display: flex;\n    align-items: center;\n}\n.user-img-c img {\n    width: 100%;\n}\n.notice-c {\n    cursor: pointer;\n    position: relative;\n}\n.newMsg {\n    position: absolute;\n    width: 8px;\n    height: 8px;\n    border-radius: 50%;\n    background-color: #FF5722;\n    right: 0;\n    top: 0;\n}\n.user-img-c {\n    width: 34px;\n    height: 34px;\n    background: #ddd;\n    border-radius: 50%;\n    margin: 0 40px;\n    overflow: hidden;\n}\n.tag-options {\n    cursor: pointer;\n    position: relative;\n}\n.div-tags {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin: 4px 0;\n}\n.div-icons {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    background: #fff;\n    height: 34px;\n    width: 160px;\n    font-size: 18px;\n}\n/* 标签栏 */\n.ul-c {\n    height: 34px;\n    background: #fff;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    padding: 0 10px;\n    overflow: hidden;\n    width: calc(100% - 160px);\n}\n.ul-c li {\n    border-radius: 3px;\n    cursor: pointer;\n    font-size: 12px;\n    height: 24px;\n    padding: 0 10px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 3px 5px 2px 3px;\n    border: 1px solid #e6e6e6;\n}\na {\n    color: #666;\n    transition: none;\n}\n.li-a {\n    max-width: 80px;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n.ul-c .ivu-icon {\n    margin-left: 6px;\n}\n.active {\n    background: #409eff;\n    border: 1px solid #409eff;\n}\n.active a {\n    color: #fff;\n}\n.active .ivu-icon {\n    color: #fff;\n}\n/* 主要内容区域 */\n.main-content {\n    height: calc(100% - 88px);\n    overflow: hidden;\n}\n.view-c {\n    position: relative;\n    height: 100%;\n    overflow: hidden;\n}\n.pointer {\n    cursor: pointer;\n}\n.crumbs {\n    margin-left: 10px;\n    color: #97a8be;\n    cursor: default;\n}\n.menu-level-3 .ivu-icon {\n    font-size: 18px;\n}\n.shrink {\n    text-align: center;\n}\n.external {\n    color: rgba(255,255,255,.7);\n}\n.external > i {\n    margin-right: 6px;\n}\n</style>"]}]}