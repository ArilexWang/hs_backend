{"remainingRequest":"/Users/alex/Documents/BasketballPark/basketballbackend/node_modules/babel-loader/lib/index.js!/Users/alex/Documents/BasketballPark/basketballbackend/src/utils/index.js","dependencies":[{"path":"/Users/alex/Documents/BasketballPark/basketballbackend/src/utils/index.js","mtime":1662167923918},{"path":"/Users/alex/Documents/BasketballPark/basketballbackend/node_modules/cache-loader/dist/cjs.js","mtime":1662170097529},{"path":"/Users/alex/Documents/BasketballPark/basketballbackend/node_modules/babel-loader/lib/index.js","mtime":1662170097912}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzZXRSb3V0ZXIgfSBmcm9tICdAL3JvdXRlcic7CmV4cG9ydCBmdW5jdGlvbiByZXNldFRva2VuQW5kQ2xlYXJVc2VyKCkgewogIC8vIOmAgOWHuueZu+mZhiDmuIXpmaTnlKjmiLfotYTmlpkKICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCAnJyk7CiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJJbWcnLCAnJyk7CiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJOYW1lJywgJycpOyAvLyDph43orr7ot6/nlLEKCiAgcmVzZXRSb3V0ZXIoKTsKfQpleHBvcnQgdmFyIGRlZmF1bHREb2N1bWVudFRpdGxlID0gJ0hXU291dGgnOwpleHBvcnQgZnVuY3Rpb24gZ2V0RG9jdW1lbnRUaXRsZShwYWdlVGl0bGUpIHsKICBpZiAocGFnZVRpdGxlKSByZXR1cm4gIiIuY29uY2F0KGRlZmF1bHREb2N1bWVudFRpdGxlLCAiIC0gIikuY29uY2F0KHBhZ2VUaXRsZSk7CiAgcmV0dXJuICIiLmNvbmNhdChkZWZhdWx0RG9jdW1lbnRUaXRsZSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldFRva2VuV2l0aEV4cGlyeShrZXkpIHsKICB2YXIgaXRlbVN0ciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7CgogIGlmICghaXRlbVN0cikgewogICAgcmV0dXJuIG51bGw7CiAgfQoKICB2YXIgaXRlbSA9IEpTT04ucGFyc2UoaXRlbVN0cik7CiAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7CgogIGlmIChub3cuZ2V0VGltZSgpID4gaXRlbS5leHBpcnkpIHsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7CiAgICByZXR1cm4gbnVsbDsKICB9CgogIHJldHVybiBpdGVtLnRva2VuOwp9"},{"version":3,"sources":["/Users/alex/Documents/BasketballPark/basketballbackend/src/utils/index.js"],"names":["resetRouter","resetTokenAndClearUser","localStorage","setItem","defaultDocumentTitle","getDocumentTitle","pageTitle","getTokenWithExpiry","key","itemStr","getItem","item","JSON","parse","now","Date","getTime","expiry","removeItem","token"],"mappings":"AAAA,SAASA,WAAT,QAA4B,UAA5B;AAEA,OAAO,SAASC,sBAAT,GAAkC;AACrC;AACAC,EAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8B,EAA9B;AACAD,EAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgC,EAAhC;AACAD,EAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiC,EAAjC,EAJqC,CAKrC;;AACAH,EAAAA,WAAW;AACd;AAED,OAAO,IAAMI,oBAAoB,GAAG,SAA7B;AACP,OAAO,SAASC,gBAAT,CAA0BC,SAA1B,EAAqC;AACxC,MAAIA,SAAJ,EAAe,iBAAUF,oBAAV,gBAAoCE,SAApC;AACf,mBAAUF,oBAAV;AACH;AAED,OAAO,SAASG,kBAAT,CAA4BC,GAA5B,EAAiC;AACpC,MAAMC,OAAO,GAAGP,YAAY,CAACQ,OAAb,CAAqBF,GAArB,CAAhB;;AACA,MAAI,CAACC,OAAL,EAAc;AACV,WAAO,IAAP;AACH;;AACD,MAAME,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWJ,OAAX,CAAb;AACA,MAAMK,GAAG,GAAG,IAAIC,IAAJ,EAAZ;;AACA,MAAID,GAAG,CAACE,OAAJ,KAAgBL,IAAI,CAACM,MAAzB,EAAiC;AAC7Bf,IAAAA,YAAY,CAACgB,UAAb,CAAwBV,GAAxB;AACA,WAAO,IAAP;AACH;;AACD,SAAOG,IAAI,CAACQ,KAAZ;AACH","sourcesContent":["import { resetRouter } from '@/router'\n\nexport function resetTokenAndClearUser() {\n    // 退出登陆 清除用户资料\n    localStorage.setItem('token', '')\n    localStorage.setItem('userImg', '')\n    localStorage.setItem('userName', '')\n    // 重设路由\n    resetRouter()\n}\n\nexport const defaultDocumentTitle = 'HWSouth'\nexport function getDocumentTitle(pageTitle) {\n    if (pageTitle) return `${defaultDocumentTitle} - ${pageTitle}`\n    return `${defaultDocumentTitle}`\n}\n\nexport function getTokenWithExpiry(key) {\n    const itemStr = localStorage.getItem(key)\n    if (!itemStr) {\n        return null\n    }\n    const item = JSON.parse(itemStr)\n    const now = new Date()\n    if (now.getTime() > item.expiry) {\n        localStorage.removeItem(key)\n        return null\n    }\n    return item.token\n}"]}]}