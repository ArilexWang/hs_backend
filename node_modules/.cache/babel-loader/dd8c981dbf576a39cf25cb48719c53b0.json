{"remainingRequest":"/Users/alex/Documents/HS/basketballbackend/node_modules/babel-loader/lib/index.js!/Users/alex/Documents/HS/basketballbackend/src/utils/index.js","dependencies":[{"path":"/Users/alex/Documents/HS/basketballbackend/src/utils/index.js","mtime":1667649698267},{"path":"/Users/alex/Documents/HS/basketballbackend/node_modules/cache-loader/dist/cjs.js","mtime":1662170097529},{"path":"/Users/alex/Documents/HS/basketballbackend/node_modules/babel-loader/lib/index.js","mtime":1662170097912}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzZXRSb3V0ZXIgfSBmcm9tICdAL3JvdXRlcic7CmltcG9ydCB2dWUgZnJvbSAnLi4vbWFpbic7CmV4cG9ydCBmdW5jdGlvbiByZXNldFRva2VuQW5kQ2xlYXJVc2VyKCkgewogIC8vIOmAgOWHuueZu+mZhiDmuIXpmaTnlKjmiLfotYTmlpkKICB2dWUuJGFwcC5hdXRoKCkuc2lnbk91dCgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgY29uc29sZS5sb2coInNpZ24gb3V0Iik7CiAgfSk7IC8vIOmHjeiuvui3r+eUsQoKICByZXNldFJvdXRlcigpOwp9CmV4cG9ydCB2YXIgZGVmYXVsdERvY3VtZW50VGl0bGUgPSAnSFdTb3V0aCc7CmV4cG9ydCBmdW5jdGlvbiBnZXREb2N1bWVudFRpdGxlKHBhZ2VUaXRsZSkgewogIGlmIChwYWdlVGl0bGUpIHJldHVybiAiIi5jb25jYXQoZGVmYXVsdERvY3VtZW50VGl0bGUsICIgLSAiKS5jb25jYXQocGFnZVRpdGxlKTsKICByZXR1cm4gIiIuY29uY2F0KGRlZmF1bHREb2N1bWVudFRpdGxlKTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0VG9rZW5XaXRoRXhwaXJ5KGtleSkgewogIHZhciBpdGVtU3RyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTsKCiAgaWYgKCFpdGVtU3RyKSB7CiAgICByZXR1cm4gbnVsbDsKICB9CgogIHZhciBpdGVtID0gSlNPTi5wYXJzZShpdGVtU3RyKTsKICB2YXIgbm93ID0gbmV3IERhdGUoKTsKCiAgaWYgKG5vdy5nZXRUaW1lKCkgPiBpdGVtLmV4cGlyeSkgewogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTsKICAgIHJldHVybiBudWxsOwogIH0KCiAgcmV0dXJuIGl0ZW0udG9rZW47Cn0="},{"version":3,"sources":["/Users/alex/Documents/HS/basketballbackend/src/utils/index.js"],"names":["resetRouter","vue","resetTokenAndClearUser","$app","auth","signOut","then","console","log","defaultDocumentTitle","getDocumentTitle","pageTitle","getTokenWithExpiry","key","itemStr","localStorage","getItem","item","JSON","parse","now","Date","getTime","expiry","removeItem","token"],"mappings":"AAAA,SAASA,WAAT,QAA4B,UAA5B;AACA,OAAOC,GAAP,MAAgB,SAAhB;AAEA,OAAO,SAASC,sBAAT,GAAkC;AACrC;AACAD,EAAAA,GAAG,CAACE,IAAJ,CAASC,IAAT,GAAgBC,OAAhB,GAA0BC,IAA1B,CAA+B,YAAM;AACjCC,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACH,GAFD,EAFqC,CAKrC;;AACAR,EAAAA,WAAW;AACd;AAED,OAAO,IAAMS,oBAAoB,GAAG,SAA7B;AACP,OAAO,SAASC,gBAAT,CAA0BC,SAA1B,EAAqC;AACxC,MAAIA,SAAJ,EAAe,iBAAUF,oBAAV,gBAAoCE,SAApC;AACf,mBAAUF,oBAAV;AACH;AAED,OAAO,SAASG,kBAAT,CAA4BC,GAA5B,EAAiC;AACpC,MAAMC,OAAO,GAAGC,YAAY,CAACC,OAAb,CAAqBH,GAArB,CAAhB;;AACA,MAAI,CAACC,OAAL,EAAc;AACV,WAAO,IAAP;AACH;;AACD,MAAMG,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWL,OAAX,CAAb;AACA,MAAMM,GAAG,GAAG,IAAIC,IAAJ,EAAZ;;AACA,MAAID,GAAG,CAACE,OAAJ,KAAgBL,IAAI,CAACM,MAAzB,EAAiC;AAC7BR,IAAAA,YAAY,CAACS,UAAb,CAAwBX,GAAxB;AACA,WAAO,IAAP;AACH;;AACD,SAAOI,IAAI,CAACQ,KAAZ;AACH","sourcesContent":["import { resetRouter } from '@/router'\nimport vue from '../main'\n\nexport function resetTokenAndClearUser() {\n    // 退出登陆 清除用户资料\n    vue.$app.auth().signOut().then(() => {\n        console.log(\"sign out\")\n    })\n    // 重设路由\n    resetRouter()\n}\n\nexport const defaultDocumentTitle = 'HWSouth'\nexport function getDocumentTitle(pageTitle) {\n    if (pageTitle) return `${defaultDocumentTitle} - ${pageTitle}`\n    return `${defaultDocumentTitle}`\n}\n\nexport function getTokenWithExpiry(key) {\n    const itemStr = localStorage.getItem(key)\n    if (!itemStr) {\n        return null\n    }\n    const item = JSON.parse(itemStr)\n    const now = new Date()\n    if (now.getTime() > item.expiry) {\n        localStorage.removeItem(key)\n        return null\n    }\n    return item.token\n}"]}]}