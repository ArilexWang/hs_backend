{"remainingRequest":"/Users/alex/Documents/HS/basketballbackend/node_modules/babel-loader/lib/index.js!/Users/alex/Documents/HS/basketballbackend/src/main.js","dependencies":[{"path":"/Users/alex/Documents/HS/basketballbackend/src/main.js","mtime":1667649770400},{"path":"/Users/alex/Documents/HS/basketballbackend/node_modules/cache-loader/dist/cjs.js","mtime":1662170097529},{"path":"/Users/alex/Documents/HS/basketballbackend/node_modules/babel-loader/lib/index.js","mtime":1662170097912}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2FsZXgvRG9jdW1lbnRzL0hTL2Jhc2tldGJhbGxiYWNrZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICIvVXNlcnMvYWxleC9Eb2N1bWVudHMvSFMvYmFza2V0YmFsbGJhY2tlbmQvbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvci5qcyI7CmltcG9ydCAiL1VzZXJzL2FsZXgvRG9jdW1lbnRzL0hTL2Jhc2tldGJhbGxiYWNrZW5kL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZS5qcyI7CmltcG9ydCAiL1VzZXJzL2FsZXgvRG9jdW1lbnRzL0hTL2Jhc2tldGJhbGxiYWNrZW5kL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmFzc2lnbi5qcyI7CmltcG9ydCAiL1VzZXJzL2FsZXgvRG9jdW1lbnRzL0hTL2Jhc2tldGJhbGxiYWNrZW5kL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZS5maW5hbGx5LmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgVmlld1VJIGZyb20gJ3ZpZXctZGVzaWduJzsKaW1wb3J0IEVsZW1lbnRVSSBmcm9tICdlbGVtZW50LXVpJzsKaW1wb3J0IGRhdGVGb3JtYXQgZnJvbSAnZGF0ZWZvcm1hdCc7CmltcG9ydCBBcHAgZnJvbSAnLi9BcHAnOwppbXBvcnQgJ3ZpZXctZGVzaWduL2Rpc3Qvc3R5bGVzL2l2aWV3LmNzcyc7CmltcG9ydCAnLi9wZXJtaXNzaW9uJzsKaW1wb3J0ICdlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9pbmRleC5jc3MnOwppbXBvcnQgY2xvdWRiYXNlIGZyb20gJ0BjbG91ZGJhc2UvanMtc2RrJzsKaW1wb3J0IEFudGQgZnJvbSAnYW50LWRlc2lnbi12dWUnOwppbXBvcnQgJ2FudC1kZXNpZ24tdnVlL2Rpc3QvYW50ZC5jc3MnOwppbXBvcnQgeyBMb2FkaW5nQmFyIH0gZnJvbSAndmlldy1kZXNpZ24nOwppbXBvcnQgY3JlYXRlUm91dGVzIGZyb20gJ0AvdXRpbHMvY3JlYXRlUm91dGVzJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuL3JvdXRlcic7CmltcG9ydCBzdG9yZSBmcm9tICcuL3N0b3JlJzsKaW1wb3J0IHsgZ2V0RG9jdW1lbnRUaXRsZSwgcmVzZXRUb2tlbkFuZENsZWFyVXNlciB9IGZyb20gJy4vdXRpbHMnOwpWdWUuY29uZmlnLnByb2R1Y3Rpb25UaXAgPSBmYWxzZTsKVnVlLnVzZShWaWV3VUkpOwpWdWUudXNlKEVsZW1lbnRVSSk7CnZhciBhcHAgPSBjbG91ZGJhc2UuaW5pdCh7CiAgZW52OiAndGVzdC03Z2d5cGtwbjBkZDQ3MWJhJwp9KTsKdmFyIGF1dGggPSBhcHAuYXV0aCh7CiAgcGVyc2lzdGVuY2U6ICdsb2NhbCcKfSk7CgppZiAoYXV0aC5oYXNMb2dpblN0YXRlKCkpIHsKICBjb25zb2xlLmxvZygnaGFzbG9naW4nKTsgLy8g5q2k5pe25bey57uP55m75b2VCn0gZWxzZSB7CiAgY29uc29sZS5sb2coJ2hhcyBub3QgbG9naW4nKTsKfQoKVnVlLnByb3RvdHlwZS4kYXBwID0gYXBwOwpWdWUucHJvdG90eXBlLiRheGlvcyA9IGF4aW9zOwpWdWUucHJvdG90eXBlLiRkYXRlRm9ybWF0ID0gZGF0ZUZvcm1hdDsKVnVlLnVzZShBbnRkKTsKdmFyIGhhc01lbnVzID0gZmFsc2U7CnJvdXRlci5iZWZvcmVFYWNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHRvLCBmcm9tLCBuZXh0KSB7CiAgICB2YXIgcm91dGVzOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IGdldERvY3VtZW50VGl0bGUodG8ubWV0YS50aXRsZSk7CiAgICAgICAgICAgIExvYWRpbmdCYXIuc3RhcnQoKTsKCiAgICAgICAgICAgIGlmIChhdXRoLmhhc0xvZ2luU3RhdGUoKSkgewogICAgICAgICAgICAgIGlmICh0by5wYXRoID09PSAnL2xvZ2luJykgewogICAgICAgICAgICAgICAgbmV4dCh7CiAgICAgICAgICAgICAgICAgIHBhdGg6ICcvJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNNZW51cykgewogICAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAvLyDov5nph4zlj6/ku6XnlKggYXdhaXQg6YWN5ZCI6K+35rGC5ZCO5Y+w5pWw5o2u5p2l55Sf5oiQ6Lev55SxCiAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IGRhdGEgPSBhd2FpdCBheGlvcy5nZXQoJ3h4eCcpCiAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IHJvdXRlcyA9IGNyZWF0ZVJvdXRlcyhkYXRhKQogICAgICAgICAgICAgICAgICByb3V0ZXMgPSBjcmVhdGVSb3V0ZXMoc3RvcmUuc3RhdGUubWVudUl0ZW1zKTsKICAgICAgICAgICAgICAgICAgcm91dGVyLmFkZFJvdXRlcyhyb3V0ZXMpOwogICAgICAgICAgICAgICAgICBoYXNNZW51cyA9IHRydWU7CiAgICAgICAgICAgICAgICAgIG5leHQoewogICAgICAgICAgICAgICAgICAgIHBhdGg6IHRvLnBhdGggfHwgJy8nCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgcmVzZXRUb2tlbkFuZENsZWFyVXNlcigpOwogICAgICAgICAgICAgICAgICBuZXh0KCIvbG9naW4/cmVkaXJlY3Q9Ii5jb25jYXQodG8ucGF0aCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBoYXNNZW51cyA9IGZhbHNlOwoKICAgICAgICAgICAgICBpZiAodG8ucGF0aCA9PT0gJy9sb2dpbicpIHsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbmV4dCgiL2xvZ2luP3JlZGlyZWN0PSIuY29uY2F0KHRvLnBhdGgpKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIsIF94MykgewogICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCkpOwpyb3V0ZXIuYWZ0ZXJFYWNoKGZ1bmN0aW9uICgpIHsKICBMb2FkaW5nQmFyLmZpbmlzaCgpOwp9KTsKdmFyIHZ1ZSA9IG5ldyBWdWUoewogIGVsOiAnI2FwcCcsCiAgcm91dGVyOiByb3V0ZXIsCiAgc3RvcmU6IHN0b3JlLAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgIHJldHVybiBoKEFwcCk7CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgdnVlOw=="},{"version":3,"sources":["/Users/alex/Documents/HS/basketballbackend/src/main.js"],"names":["Vue","axios","ViewUI","ElementUI","dateFormat","App","cloudbase","Antd","LoadingBar","createRoutes","router","store","getDocumentTitle","resetTokenAndClearUser","config","productionTip","use","app","init","env","auth","persistence","hasLoginState","console","log","prototype","$app","$axios","$dateFormat","hasMenus","beforeEach","to","from","next","document","title","meta","start","path","routes","state","menuItems","addRoutes","error","afterEach","finish","vue","el","render","h"],"mappings":";;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,OAAO,mCAAP;AACA,OAAO,cAAP;AACA,OAAO,sCAAP;AACA,OAAOC,SAAP,MAAsB,mBAAtB;AAEA,OAAOC,IAAP,MAAiB,gBAAjB;AACA,OAAO,8BAAP;AAEA,SAASC,UAAT,QAA2B,aAA3B;AACA,OAAOC,YAAP,MAAyB,sBAAzB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAASC,gBAAT,EAA2BC,sBAA3B,QAAyD,SAAzD;AAEAb,GAAG,CAACc,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AACAf,GAAG,CAACgB,GAAJ,CAAQd,MAAR;AACAF,GAAG,CAACgB,GAAJ,CAAQb,SAAR;AAEA,IAAMc,GAAG,GAAGX,SAAS,CAACY,IAAV,CAAe;AACvBC,EAAAA,GAAG,EAAE;AADkB,CAAf,CAAZ;AAGA,IAAMC,IAAI,GAAGH,GAAG,CAACG,IAAJ,CAAS;AAClBC,EAAAA,WAAW,EAAE;AADK,CAAT,CAAb;;AAGA,IAAID,IAAI,CAACE,aAAL,EAAJ,EAA0B;AACtBC,EAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EADsB,CAEtB;AACH,CAHD,MAGO;AACHD,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACH;;AAEDxB,GAAG,CAACyB,SAAJ,CAAcC,IAAd,GAAqBT,GAArB;AACAjB,GAAG,CAACyB,SAAJ,CAAcE,MAAd,GAAuB1B,KAAvB;AACAD,GAAG,CAACyB,SAAJ,CAAcG,WAAd,GAA4BxB,UAA5B;AACAJ,GAAG,CAACgB,GAAJ,CAAQT,IAAR;AAGA,IAAIsB,QAAQ,GAAG,KAAf;AACAnB,MAAM,CAACoB,UAAP;AAAA,qEAAkB,iBAAOC,EAAP,EAAWC,IAAX,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AACdC,YAAAA,QAAQ,CAACC,KAAT,GAAiBvB,gBAAgB,CAACmB,EAAE,CAACK,IAAH,CAAQD,KAAT,CAAjC;AACA3B,YAAAA,UAAU,CAAC6B,KAAX;;AACA,gBAAIjB,IAAI,CAACE,aAAL,EAAJ,EAA0B;AACtB,kBAAIS,EAAE,CAACO,IAAH,KAAY,QAAhB,EAA0B;AACtBL,gBAAAA,IAAI,CAAC;AAAEK,kBAAAA,IAAI,EAAE;AAAR,iBAAD,CAAJ;AACH,eAFD,MAEO,IAAIT,QAAJ,EAAc;AACjBI,gBAAAA,IAAI;AACP,eAFM,MAEA;AACH,oBAAI;AACA;AACA;AACA;AACMM,kBAAAA,MAJN,GAIe9B,YAAY,CAACE,KAAK,CAAC6B,KAAN,CAAYC,SAAb,CAJ3B;AAKA/B,kBAAAA,MAAM,CAACgC,SAAP,CAAiBH,MAAjB;AACAV,kBAAAA,QAAQ,GAAG,IAAX;AACAI,kBAAAA,IAAI,CAAC;AAAEK,oBAAAA,IAAI,EAAEP,EAAE,CAACO,IAAH,IAAW;AAAnB,mBAAD,CAAJ;AACH,iBARD,CAQE,OAAOK,KAAP,EAAc;AACZ9B,kBAAAA,sBAAsB;AACtBoB,kBAAAA,IAAI,2BAAoBF,EAAE,CAACO,IAAvB,EAAJ;AACH;AACJ;AACJ,aAnBD,MAmBO;AACHT,cAAAA,QAAQ,GAAG,KAAX;;AACA,kBAAIE,EAAE,CAACO,IAAH,KAAY,QAAhB,EAA0B;AACtBL,gBAAAA,IAAI;AACP,eAFD,MAEO;AACHA,gBAAAA,IAAI,2BAAoBF,EAAE,CAACO,IAAvB,EAAJ;AACH;AACJ;;AA7Ba;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AAgCA5B,MAAM,CAACkC,SAAP,CAAiB,YAAM;AACnBpC,EAAAA,UAAU,CAACqC,MAAX;AACH,CAFD;AAIA,IAAMC,GAAG,GAAG,IAAI9C,GAAJ,CAAQ;AAChB+C,EAAAA,EAAE,EAAE,MADY;AAEhBrC,EAAAA,MAAM,EAANA,MAFgB;AAGhBC,EAAAA,KAAK,EAALA,KAHgB;AAIhBqC,EAAAA,MAAM,EAAE,gBAAAC,CAAC;AAAA,WAAIA,CAAC,CAAC5C,GAAD,CAAL;AAAA;AAJO,CAAR,CAAZ;AAOA,eAAeyC,GAAf","sourcesContent":["import Vue from 'vue'\nimport axios from 'axios'\nimport ViewUI from 'view-design'\nimport ElementUI from 'element-ui'\nimport dateFormat from 'dateformat'\nimport App from './App'\nimport 'view-design/dist/styles/iview.css'\nimport './permission'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport cloudbase from '@cloudbase/js-sdk'\n\nimport Antd from 'ant-design-vue';\nimport 'ant-design-vue/dist/antd.css';\n\nimport { LoadingBar } from 'view-design'\nimport createRoutes from '@/utils/createRoutes'\nimport router from './router'\nimport store from './store'\nimport { getDocumentTitle, resetTokenAndClearUser } from './utils'\n\nVue.config.productionTip = false\nVue.use(ViewUI)\nVue.use(ElementUI)\n\nconst app = cloudbase.init({\n    env: 'test-7ggypkpn0dd471ba',\n})\nconst auth = app.auth({\n    persistence: 'local',\n})\nif (auth.hasLoginState()) {\n    console.log('haslogin')\n    // 此时已经登录\n} else {\n    console.log('has not login')\n}\n\nVue.prototype.$app = app\nVue.prototype.$axios = axios\nVue.prototype.$dateFormat = dateFormat\nVue.use(Antd);\n\n\nlet hasMenus = false\nrouter.beforeEach(async (to, from, next) => {\n    document.title = getDocumentTitle(to.meta.title)\n    LoadingBar.start()\n    if (auth.hasLoginState()) {\n        if (to.path === '/login') {\n            next({ path: '/' })\n        } else if (hasMenus) {\n            next()\n        } else {\n            try {\n                // 这里可以用 await 配合请求后台数据来生成路由\n                // const data = await axios.get('xxx')\n                // const routes = createRoutes(data)\n                const routes = createRoutes(store.state.menuItems)\n                router.addRoutes(routes)\n                hasMenus = true\n                next({ path: to.path || '/' })\n            } catch (error) {\n                resetTokenAndClearUser()\n                next(`/login?redirect=${to.path}`)\n            }\n        }\n    } else {\n        hasMenus = false\n        if (to.path === '/login') {\n            next()\n        } else {\n            next(`/login?redirect=${to.path}`)\n        }\n    }\n})\n\nrouter.afterEach(() => {\n    LoadingBar.finish()\n})\n\nconst vue = new Vue({\n    el: '#app',\n    router,\n    store,\n    render: h => h(App),\n})\n\nexport default vue"]}]}