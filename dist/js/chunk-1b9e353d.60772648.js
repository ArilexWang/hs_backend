(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b9e353d"],{"365c":function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"j",(function(){return i})),n.d(t,"h",(function(){return u})),n.d(t,"k",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"b",(function(){return m}));n("d3b7");var o=n("56d7"),c=o["default"].$app.database();function r(e){return new Promise((function(t,n){c.collection(e).get().then((function(e){t(e)})).catch((function(e){n(e)}))}))}function i(e,t,n){return new Promise((function(o,r){c.collection(e).orderBy(t,n).get().then((function(e){o(e)})).catch((function(e){r(e)}))}))}function u(e,t){return new Promise((function(n,o){c.collection(e).doc(t).get().then((function(e){n(e)})).catch((function(e){o(e)}))}))}function a(e,t){var n=e._id;return delete e._id,new Promise((function(o,r){c.collection(t).doc(n).update(e).then((function(e){o(e)})).catch((function(e){r(e)}))}))}function l(e,t){return new Promise((function(n,o){console.log("info",e),c.collection(t).doc(e._id).remove().then((function(e){n(e)})).catch((function(e){o(e)}))}))}function s(e,t){return new Promise((function(n,o){c.collection(t).add(e).then((function(e){n(e)})).catch((function(e){o(e)}))}))}function f(e){return new Promise((function(t,n){c.collection(e).count().then((function(e){t(e)})).catch((function(e){n(e)}))}))}function p(e,t){return new Promise((function(n,o){c.collection(e).where(t).count().then((function(e){n(e)})).catch((function(e){o(e)}))}))}function d(e,t){return new Promise((function(n,o){c.collection(e).where(t).get().then((function(e){n(e)})).catch((function(e){o(e)}))}))}function h(e,t,n,o,r,i){return new Promise((function(u,a){c.collection(e).where(o).limit(n).skip(t).orderBy(r,i).get().then((function(e){u(e)})).catch((function(e){a(e)}))}))}function m(e,t){return new Promise((function(n,c){o["default"].$app.callFunction({name:e,data:t}).then((function(e){n(e)})).catch((function(e){c(e)}))}))}},"6f14":function(e,t,n){},"7a85":function(e,t,n){"use strict";n("6f14")},fae6:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home-container"},[n("div",{staticClass:"home-content"},[n("el-table",{staticStyle:{"margin-top":"10px"},attrs:{data:e.newData,fit:"",border:""}},[n("el-table-column",{attrs:{prop:"name",label:"名称",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{model:{value:t.row.name,callback:function(n){e.$set(t.row,"name",n)},expression:"scope.row.name"}})]}}])}),n("el-table-column",{attrs:{prop:"price",label:"价格",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{attrs:{type:"number"},model:{value:t.row.price,callback:function(n){e.$set(t.row,"price",n)},expression:"scope.row.price"}})]}}])}),n("el-table-column",{attrs:{prop:"price",label:"价值",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{attrs:{type:"number"},model:{value:t.row.value,callback:function(n){e.$set(t.row,"value",n)},expression:"scope.row.value"}})]}}])}),n("el-table-column",{attrs:{prop:"type",label:"类型(红为次卡)",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.row.type,callback:function(n){e.$set(t.row,"type",n)},expression:"scope.row.type"}})]}}])}),n("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-circle-plus"},on:{click:function(n){return e.handleAdd(t.row)}}},[e._v("新增")])]}}])})],1),n("el-table",{staticStyle:{"margin-top":"10px"},attrs:{data:e.datas,"default-sort":{prop:"price"},height:"450",border:""}},[n("el-table-column",{attrs:{prop:"name",label:"名称",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{model:{value:t.row.name,callback:function(n){e.$set(t.row,"name",n)},expression:"scope.row.name"}})]}}])}),n("el-table-column",{attrs:{prop:"price",label:"价格",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{attrs:{type:"number"},model:{value:t.row.price,callback:function(n){e.$set(t.row,"price",n)},expression:"scope.row.price"}})]}}])}),n("el-table-column",{attrs:{prop:"value",label:"价值",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{attrs:{type:"number"},model:{value:t.row.value,callback:function(n){e.$set(t.row,"value",n)},expression:"scope.row.value"}})]}}])}),n("el-table-column",{attrs:{prop:"type",label:"类型(红为次卡)",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.row.type,callback:function(n){e.$set(t.row,"type",n)},expression:"scope.row.type"}})]}}])}),n("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.handleEdit(t.row)}}},[e._v("保存")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1)],1)])},c=[],r=(n("4160"),n("159b"),n("365c")),i={name:"home",data:function(){return{datas:[],newData:[{}]}},created:function(){var e=this;Object(r["i"])("recharge").then((function(t){console.log(t),t.data.forEach((function(e){e.type=1===e.type})),e.$data.datas=t.data}))},methods:{handleEdit:function(e){var t=this;this.$confirm("是否提交修改","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.type=e.type?1:0,e.price=parseInt(e.price),e.value=parseInt(e.value),Object(r["k"])(e,"recharge").then((function(e){console.log(e),1==e.updated?t.$message({type:"success",message:"已保存!请刷新页面"}):t.$message({type:"fail",message:"保存失败!"})}))})).catch((function(e){console.log(e),t.$router.go(0),t.$message({type:"info",message:"保存失败"})}))},handleDelete:function(e){var t=this;this.$confirm("是否删除当前充值信息","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["c"])(e,"recharge").then((function(){t.$router.go(0)}))}))},handleAdd:function(e){var t=this;e.type=1==e.type?1:0;var n=this;console.log(e),Object(r["a"])(e,"recharge").then((function(e){console.log(e),e.id?(t.$message({type:"success",message:"新增成功!"}),n.$router.go(0)):t.$message({type:"info",message:"新增失败!"})}))}}},u=i,a=(n("7a85"),n("2877")),l=Object(a["a"])(u,o,c,!1,null,"7147554d",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-1b9e353d.60772648.js.map