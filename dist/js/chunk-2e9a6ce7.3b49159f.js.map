{"version":3,"sources":["webpack:///./src/views/Home.vue?0a57","webpack:///./src/api/index.js","webpack:///./src/views/Home.vue?517f","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?2b8c","webpack:///./src/views/Home.vue"],"names":["db","vue","$app","database","getDatas","data","Promise","resolve","reject","collection","get","then","res","catch","err","getDatasByOrder","fieldPath","order","orderBy","getDataWithId","id","doc","updateInfo","info","_id","update","deleteInfo","console","log","remove","addInfo","add","getCollectionCount","count","getCollectionCountWithParam","param","where","getCollectionsWithParam","getCollectionsByPageWithParamAndOrder","page","limit","skip","callCloudFunction","functionName","callFunction","name","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","datas","scopedSlots","_u","key","fn","scope","model","value","row","callback","$$v","$set","expression","on","$event","handleEdit","_v","staticRenderFns","created","methods","$confirm","confirmButtonText","cancelButtonText","type","component"],"mappings":"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","file":"js/chunk-2e9a6ce7.3b49159f.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=2a13665a&scoped=true&lang=css&\"","/* eslint-disable newline-per-chained-call */\n/* eslint-disable max-len */\n/* eslint-disable no-underscore-dangle */\n/* eslint-disable quotes */\n/* eslint-disable comma-dangle */\nimport vue from '../main.js'\n\nconst db = vue.$app.database()\nexport function getDatas(data) {\n    return new Promise((resolve, reject) => {\n        db.collection(data).get().then(res => {\n            resolve(res)\n        }).catch(err => {\n            reject(err)\n        })\n    })\n}\n\nexport function getDatasByOrder(data, fieldPath, order) {\n    return new Promise((resolve, reject) => {\n        db.collection(data).orderBy(fieldPath, order).get().then(res => {\n            resolve(res)\n        }).catch(err => {\n            reject(err)\n        })\n    })\n}\n\nexport function getDataWithId(data, id) {\n    return new Promise((resolve, reject) => {\n        db.collection(data).doc(id).get().then(res => {\n            resolve(res)\n        }).catch(err => {\n            reject(err)\n        })\n    })\n}\n\nexport function updateInfo(info, collection) {\n    const id = info._id\n    delete info._id\n    return new Promise((resolve, reject) => {\n        db.collection(collection).doc(id).update(info).then(res => {\n            resolve(res)\n        }).catch(err => {\n            reject(err)\n        })\n    })\n}\n\nexport function setInfo(info, collection) {\n    const id = info._id\n    console.log(id)\n    delete info._id\n    return new Promise((resolve, reject) => {\n        console.log(info)\n        db.collection(collection).doc(id).set(info).then(res => {\n            resolve(res)\n        }).catch(err => {\n            reject(err)\n        })\n    })\n}\n\nexport function deleteInfo(info, collection) {\n    return new Promise((resolve, reject) => {\n        console.log('info', info)\n        db.collection(collection).doc(info._id).remove().then(res => {\n            resolve(res)\n        }).catch(err => {\n            reject(err)\n        })\n    })\n}\n\nexport function addInfo(info, collection) {\n    return new Promise((resolve, reject) => {\n        db.collection(collection).add(info).then(res => {\n            resolve(res)\n        }).catch(err => {\n            reject(err)\n        })\n    })\n}\n\n\nexport function getCollectionCount(collection) {\n    return new Promise((resolve, reject) => {\n        db.collection(collection).count().then(res => {\n            resolve(res)\n        }).catch(err => {\n            reject(err)\n        })\n    })\n}\n\nexport function getCollectionCountWithParam(collection, param) {\n    return new Promise((resolve, reject) => {\n        db.collection(collection).where(param).count().then(res => {\n            resolve(res)\n        }).catch(err => {\n            reject(err)\n        })\n    })\n}\n\n\nexport function getCollectionsWithParam(collection, param) {\n    return new Promise((resolve, reject) => {\n        db.collection(collection).where(param).get().then(res => {\n            resolve(res)\n        }).catch(err => {\n            reject(err)\n        })\n    })\n}\n\nexport function getCollectionsByPage(collection, page, limit) {\n    return new Promise((resolve, reject) => {\n        db.collection(collection).limit(limit).skip(page).get().then(res => {\n            resolve(res)\n        }).catch(err => {\n            reject(err)\n        })\n    })\n}\n\nexport function getCollectionsByPageWithParam(collection, page, limit, param) {\n    return new Promise((resolve, reject) => {\n        db.collection(collection).where(param).limit(limit).skip(page).get().then(res => {\n            resolve(res)\n        }).catch(err => {\n            reject(err)\n        })\n    })\n}\n\nexport function getCollectionsByPageWithParamAndOrder(collection, page, limit, param, fieldPath, order) {\n    return new Promise((resolve, reject) => {\n        db.collection(collection).where(param).limit(limit).skip(page).orderBy(fieldPath, order).get().then(res => {\n            resolve(res)\n        }).catch(err => {\n            reject(err)\n        })\n    })\n}\nexport function callCloudFunction(functionName, param) {\n    return new Promise((resolve, reject) => {\n        vue.$app.callFunction({\n            name: functionName,\n            data: param\n        }).then(res => {\n            resolve(res)\n        }).catch(err => {\n            reject(err)\n        })\n    })\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home-container\"},[_c('div',{staticClass:\"home-content\"},[_c('el-table',{attrs:{\"data\":_vm.datas,\"fit\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名称\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"locked\",\"label\":\"锁场\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},model:{value:(scope.row.locked),callback:function ($$v) {_vm.$set(scope.row, \"locked\", $$v)},expression:\"scope.row.locked\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"保存\")])]}}])})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home-container\">\n    <div class=\"home-content\">\n      <el-table :data=\"datas\" fit border style=\"\">\n        <el-table-column prop=\"name\" label=\"名称\" width=\"120\">\n        </el-table-column>\n        <el-table-column prop=\"locked\" label=\"锁场\" width=\"120\">\n          <template slot-scope=\"scope\">\n            <el-switch\n              v-model=\"scope.row.locked\"\n              active-color=\"#13ce66\"\n              inactive-color=\"#ff4949\"\n            >\n            </el-switch>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"100\">\n          <template slot-scope=\"scope\">\n            <el-button @click=\"handleEdit(scope.row)\" size=\"mini\"\n              >保存</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n  </div>\n</template>\n\n<script>\n/* eslint-disable quotes */\n/* eslint-disable indent */\n/* eslint-disable semi */\nimport { getDatasByOrder, updateInfo } from \"@/api\";\n\nexport default {\n  name: \"home\",\n  data() {\n    return {\n      datas: [],\n    };\n  },\n  created() {\n    getDatasByOrder(\"courts\", \"number\", \"asc\").then((res) => {\n      console.log(res);\n      this.$data.datas = res.data;\n    });\n  },\n  methods: {\n    handleEdit(info) {\n      this.$confirm(\"是否提交修改\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then(() => {\n          // eslint-disable-next-line radix\n          info.price = parseInt(info.price);\n          updateInfo(info, \"courts\").then((res) => {\n            if (res.updated == 1) {\n              this.$message({\n                type: \"success\",\n                message: \"已保存!\",\n              });\n            } else {\n              this.$message({\n                type: \"fail\",\n                message: \"保存失败!\",\n              });\n              this.$router.go(0);\n            }\n          });\n        })\n        .catch((err) => {\n          console.log(err);\n          this.$message({\n            type: \"info\",\n            message: \"保存失败\",\n          });\n          this.$router.go(0);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.home-container {\n  padding: 10px;\n  padding-top: 5px;\n}\n.home-content {\n  padding: 10px;\n  border-radius: 5px;\n  background: #fff;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=2a13665a&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=2a13665a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a13665a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}