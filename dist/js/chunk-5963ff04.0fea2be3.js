(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5963ff04"],{2817:function(t,n,e){},"365c":function(t,n,e){"use strict";e.d(n,"i",(function(){return i})),e.d(n,"j",(function(){return r})),e.d(n,"h",(function(){return a})),e.d(n,"k",(function(){return u})),e.d(n,"c",(function(){return l})),e.d(n,"a",(function(){return s})),e.d(n,"d",(function(){return f})),e.d(n,"e",(function(){return d})),e.d(n,"g",(function(){return h})),e.d(n,"f",(function(){return p})),e.d(n,"b",(function(){return m}));e("d3b7");var o=e("56d7"),c=o["default"].$app.database();function i(t){return new Promise((function(n,e){c.collection(t).get().then((function(t){n(t)})).catch((function(t){e(t)}))}))}function r(t,n,e){return new Promise((function(o,i){c.collection(t).orderBy(n,e).get().then((function(t){o(t)})).catch((function(t){i(t)}))}))}function a(t,n){return new Promise((function(e,o){c.collection(t).doc(n).get().then((function(t){e(t)})).catch((function(t){o(t)}))}))}function u(t,n){var e=t._id;return delete t._id,new Promise((function(o,i){c.collection(n).doc(e).update(t).then((function(t){o(t)})).catch((function(t){i(t)}))}))}function l(t,n){return new Promise((function(e,o){console.log("info",t),c.collection(n).doc(t._id).remove().then((function(t){e(t)})).catch((function(t){o(t)}))}))}function s(t,n){return new Promise((function(e,o){c.collection(n).add(t).then((function(t){e(t)})).catch((function(t){o(t)}))}))}function f(t){return new Promise((function(n,e){c.collection(t).count().then((function(t){n(t)})).catch((function(t){e(t)}))}))}function d(t,n){return new Promise((function(e,o){c.collection(t).where(n).count().then((function(t){e(t)})).catch((function(t){o(t)}))}))}function h(t,n){return new Promise((function(e,o){c.collection(t).where(n).get().then((function(t){e(t)})).catch((function(t){o(t)}))}))}function p(t,n,e,o,i,r){return new Promise((function(a,u){c.collection(t).where(o).limit(e).skip(n).orderBy(i,r).get().then((function(t){a(t)})).catch((function(t){u(t)}))}))}function m(t,n){return new Promise((function(e,c){o["default"].$app.callFunction({name:t,data:n}).then((function(t){e(t)})).catch((function(t){c(t)}))}))}},"3db0":function(t,n,e){"use strict";e.r(n);var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"home-container"},[e("div",{staticClass:"home-content"},[e("el-table",{staticStyle:{"margin-top":"10px"},attrs:{data:t.newData,fit:"",border:""}},[e("el-table-column",{attrs:{prop:"price",label:"充值金额",width:"120"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-input",{attrs:{type:"number"},model:{value:n.row.recharge,callback:function(e){t.$set(n.row,"recharge",e)},expression:"scope.row.recharge"}})]}}])}),e("el-table-column",{attrs:{prop:"price",label:"赠送金额",width:"120"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-input",{attrs:{type:"number"},model:{value:n.row.handsel,callback:function(e){t.$set(n.row,"handsel",e)},expression:"scope.row.handsel"}})]}}])}),e("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-circle-plus"},on:{click:function(e){return t.handleAdd(n.row)}}},[t._v("新增")])]}}])})],1),e("el-table",{staticStyle:{"margin-top":"10px"},attrs:{data:t.datas,"default-sort":{prop:"price"},height:"450",border:""}},[e("el-table-column",{attrs:{prop:"price",label:"充值金额",width:"120"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-input",{attrs:{type:"number"},model:{value:n.row.recharge,callback:function(e){t.$set(n.row,"recharge",e)},expression:"scope.row.recharge"}})]}}])}),e("el-table-column",{attrs:{prop:"value",label:"赠送金额",width:"120"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-input",{attrs:{type:"number"},model:{value:n.row.handsel,callback:function(e){t.$set(n.row,"handsel",e)},expression:"scope.row.handsel"}})]}}])}),e("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.handleEdit(n.row)}}},[t._v("保存")]),e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.handleDelete(n.row)}}},[t._v("删除")])]}}])})],1)],1)])},c=[],i=e("365c"),r={name:"home",data:function(){return{datas:[],newData:[{}],collection:"cash"}},created:function(){var t=this;Object(i["i"])(this.$data.collection).then((function(n){t.$data.datas=n.data}))},methods:{handleEdit:function(t){var n=this;this.$confirm("是否提交修改","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.recharge=parseInt(t.recharge),t.handsel=parseInt(t.handsel),Object(i["k"])(t,n.$data.collection).then((function(t){console.log(t),1==t.updated?(n.$message({type:"success",message:"已保存!请刷新页面"}),Object(i["i"])(n.$data.collection).then((function(t){n.$data.datas=t.data}))):n.$message({type:"fail",message:"保存失败!"})}))})).catch((function(t){console.log(t),n.$router.go(0),n.$message({type:"info",message:"保存失败"})}))},handleDelete:function(t){var n=this;this.$confirm("是否删除当前充值信息","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(i["c"])(t,"recharge").then((function(){n.$router.go(0)}))}))},handleAdd:function(t){var n=this,e=this;console.log(t),Object(i["a"])(t,this.$data.collection).then((function(t){console.log(t),t.id?(n.$message({type:"success",message:"新增成功!"}),e.$router.go(0)):n.$message({type:"info",message:"新增失败!"})}))}}},a=r,u=(e("e584"),e("2877")),l=Object(u["a"])(a,o,c,!1,null,"fa76d3be",null);n["default"]=l.exports},e584:function(t,n,e){"use strict";e("2817")}}]);
//# sourceMappingURL=chunk-5963ff04.0fea2be3.js.map